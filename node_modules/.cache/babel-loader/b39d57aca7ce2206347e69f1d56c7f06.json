{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable prefer-spread */\n\n\nimport * as React from 'react';\nimport omit from 'omit.js';\nimport RcTable, { INTERNAL_COL_DEFINE } from 'rc-table';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport { polyfill } from 'react-lifecycles-compat';\nimport FilterDropdown from './filterDropdown';\nimport createStore from './createStore';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\nimport scrollTo from '../_util/scrollTo';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport TransButton from '../_util/transButton';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    } // https://github.com/ant-design/ant-design/issues/19398\n\n\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends(_extends({}, components), {\n    body: _extends(_extends({}, components.body), {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var columns = arguments.length > 1 ? arguments[1] : undefined;\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nvar Table = /*#__PURE__*/function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  var _super = _createSuper(Table);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _super.call(this, props);\n\n    _this.setTableRef = function (table) {\n      _this.rcTable = table;\n    };\n\n    _this.getCheckboxPropsByItem = function (item, index) {\n      var rowSelection = getRowSelection(_this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n\n      var key = _this.getRecordKey(item, index); // Cache checkboxProps\n\n\n      if (!_this.props.checkboxPropsCache[key]) {\n        _this.props.checkboxPropsCache[key] = rowSelection.getCheckboxProps(item) || {};\n        var checkboxProps = _this.props.checkboxPropsCache[key];\n        warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n\n      return _this.props.checkboxPropsCache[key];\n    };\n\n    _this.getRecordKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ' + 'see https://u.ant.design/table-row-key');\n      return recordKey === undefined ? index : recordKey;\n    };\n\n    _this.onRow = function (prefixCls, record, index) {\n      var onRow = _this.props.onRow;\n      var custom = onRow ? onRow(record, index) : {};\n      return _extends(_extends({}, custom), {\n        prefixCls: prefixCls,\n        store: _this.props.store,\n        rowKey: _this.getRecordKey(record, index)\n      });\n    };\n\n    _this.generatePopupContainerFunc = function (getPopupContainer) {\n      var scroll = _this.props.scroll;\n      var table = _this.rcTable;\n\n      if (getPopupContainer) {\n        return getPopupContainer;\n      } // Use undefined to let rc component use default logic.\n\n\n      return scroll && table ? function () {\n        return table.tableNode;\n      } : undefined;\n    };\n\n    _this.scrollToFirstRow = function () {\n      var scroll = _this.props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this.rcTable.bodyTable;\n          }\n        });\n      }\n    };\n\n    _this.handleFilter = function (column, nextFilters) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      var filters = _extends(_extends({}, _this.state.filters), _defineProperty({}, getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(_this.state.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        pagination: pagination,\n        filters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      getFilteredValueColumns(_this.state).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.filters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends(_extends({}, pagination), {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState, function () {\n        _this.scrollToFirstRow();\n\n        _this.props.store.setState({\n          selectionDirty: false\n        });\n\n        var onChange = _this.props.onChange;\n\n        if (onChange) {\n          onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n            selectionDirty: false,\n            filters: filters,\n            pagination: pagination\n          })));\n        }\n      });\n    };\n\n    _this.handleSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = _this.props.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.props.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var pivot = _this.state.pivot;\n\n      var rows = _this.getFlatCurrentPageData();\n\n      var realIndex = rowIndex;\n\n      if (_this.props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this.getRecordKey(row, i);\n\n          var checkboxProps = _this.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.props.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(_this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.props.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    };\n\n    _this.handleRadioSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var selectedRowKeys = [key];\n\n      _this.props.store.setState({\n        selectionDirty: true\n      });\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    };\n\n    _this.handleSelectRow = function (selectionKey, index, onSelectFunc) {\n      var data = _this.getFlatCurrentPageData();\n\n      var defaultSelection = _this.props.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.props.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      _this.props.store.setState({\n        selectionDirty: true\n      }); // when select custom selection, callback selections[n].onSelect\n\n\n      var rowSelection = _this.props.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    };\n\n    _this.handlePageChange = function (current) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        pagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends(_extends({}, pagination), {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState, _this.scrollToFirstRow);\n\n      _this.props.store.setState({\n        selectionDirty: false\n      });\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n          selectionDirty: false,\n          pagination: pagination\n        })));\n      }\n    };\n\n    _this.handleShowSizeChange = function (current, pageSize) {\n      var pagination = _this.state.pagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends(_extends({}, pagination), {\n        pageSize: pageSize,\n        current: current\n      });\n\n      _this.setState({\n        pagination: nextPagination\n      }, _this.scrollToFirstRow);\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n          pagination: nextPagination\n        })));\n      }\n    };\n\n    _this.renderExpandIcon = function (prefixCls) {\n      return function (_ref) {\n        var expandable = _ref.expandable,\n            expanded = _ref.expanded,\n            needIndentSpaced = _ref.needIndentSpaced,\n            record = _ref.record,\n            onExpand = _ref.onExpand;\n\n        if (expandable) {\n          return /*#__PURE__*/React.createElement(LocaleReceiver, {\n            componentName: \"Table\",\n            defaultLocale: defaultLocale.Table\n          }, function (locale) {\n            var _classNames;\n\n            return /*#__PURE__*/React.createElement(TransButton, {\n              className: classNames(\"\".concat(prefixCls, \"-row-expand-icon\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-collapsed\"), !expanded), _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-expanded\"), expanded), _classNames)),\n              onClick: function onClick(event) {\n                onExpand(record, event);\n              },\n              \"aria-label\": expanded ? locale.collapse : locale.expand,\n              noStyle: true\n            });\n          });\n        }\n\n        if (needIndentSpaced) {\n          return /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-row-expand-icon \").concat(prefixCls, \"-row-spaced\")\n          });\n        }\n\n        return null;\n      };\n    };\n\n    _this.renderSelectionBox = function (type) {\n      return function (_, record, index) {\n        var rowKey = _this.getRecordKey(record, index);\n\n        var props = _this.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          return type === 'radio' ? _this.handleRadioSelect(record, index, e) : _this.handleSelect(record, index, e);\n        };\n\n        return /*#__PURE__*/React.createElement(\"span\", {\n          onClick: stopPropagation\n        }, /*#__PURE__*/React.createElement(SelectionBox, _extends({\n          type: type,\n          store: _this.props.store,\n          rowIndex: rowKey,\n          onChange: handleChange,\n          defaultSelection: _this.getDefaultSelection()\n        }, props)));\n      };\n    };\n\n    _this.renderTable = function (_ref2) {\n      var _classNames2;\n\n      var prefixCls = _ref2.prefixCls,\n          renderEmpty = _ref2.renderEmpty,\n          dropdownPrefixCls = _ref2.dropdownPrefixCls,\n          contextLocale = _ref2.contextLocale,\n          contextGetPopupContainer = _ref2.getPopupContainer;\n\n      var _a = _this.props,\n          showHeader = _a.showHeader,\n          locale = _a.locale,\n          getPopupContainer = _a.getPopupContainer,\n          restTableProps = __rest(_a, [\"showHeader\", \"locale\", \"getPopupContainer\"]); // do not pass prop.style to rc-table, since already apply it to container div\n\n\n      var restProps = omit(restTableProps, ['style']);\n\n      var data = _this.getCurrentPageData();\n\n      var expandIconAsCell = _this.props.expandedRowRender && _this.props.expandIconAsCell !== false; // use props.getPopupContainer first\n\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer; // Merge too locales\n\n      var mergedLocale = _extends(_extends({}, contextLocale), locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n\n      var classString = classNames(\"\".concat(prefixCls, \"-\").concat(_this.props.size), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-bordered\"), _this.props.bordered), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames2));\n\n      var columnsWithRowSelection = _this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n\n      var columns = _this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      return /*#__PURE__*/React.createElement(RcTable, _extends({\n        ref: _this.setTableRef,\n        key: \"table\",\n        expandIcon: _this.renderExpandIcon(prefixCls)\n      }, restProps, {\n        onRow: function onRow(record, index) {\n          return _this.onRow(prefixCls, record, index);\n        },\n        components: _this.state.components,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        className: classString,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText\n      }));\n    };\n\n    _this.renderComponent = function (_ref3) {\n      var getPrefixCls = _ref3.getPrefixCls,\n          renderEmpty = _ref3.renderEmpty,\n          getPopupContainer = _ref3.getPopupContainer;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          customizeDropdownPrefixCls = _this$props.dropdownPrefixCls,\n          style = _this$props.style,\n          className = _this$props.className;\n\n      var data = _this.getCurrentPageData();\n\n      var loading = _this.props.loading;\n\n      if (typeof loading === 'boolean') {\n        loading = {\n          spinning: loading\n        };\n      }\n\n      var prefixCls = getPrefixCls('table', customizePrefixCls);\n      var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n      var table = /*#__PURE__*/React.createElement(LocaleReceiver, {\n        componentName: \"Table\",\n        defaultLocale: defaultLocale.Table\n      }, function (locale) {\n        return _this.renderTable({\n          prefixCls: prefixCls,\n          renderEmpty: renderEmpty,\n          dropdownPrefixCls: dropdownPrefixCls,\n          contextLocale: locale,\n          getPopupContainer: getPopupContainer\n        });\n      }); // if there is no pagination or no data,\n      // the height of spin should decrease by half of pagination\n\n      var paginationPatchClass = _this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n        style: style\n      }, /*#__PURE__*/React.createElement(Spin, _extends({}, loading, {\n        className: loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n      }), _this.renderPagination(prefixCls, 'top'), table, _this.renderPagination(prefixCls, 'bottom')));\n    };\n\n    var expandedRowRender = props.expandedRowRender,\n        columnsProp = props.columns;\n    warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' + 'fixed columns instead, see: https://u.ant.design/fixed-columns.');\n\n    if (expandedRowRender && (columnsProp || []).some(function (_ref4) {\n      var fixed = _ref4.fixed;\n      return !!fixed;\n    })) {\n      warning(false, 'Table', '`expandedRowRender` and `Column.fixed` are not compatible. Please use one of them at one time.');\n    }\n\n    var columns = columnsProp || normalizeColumns(props.children);\n    _this.state = _extends(_extends({}, _this.getDefaultSortOrder(columns || [])), {\n      // 减少状态\n      filters: _this.getDefaultFilters(columns),\n      pagination: _this.getDefaultPagination(props),\n      pivot: undefined,\n      prevProps: props,\n      components: createComponents(props.components),\n      columns: columns\n    });\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$state = this.state,\n          columns = _this$state.columns,\n          sortColumn = _this$state.sortColumn,\n          sortOrder = _this$state.sortOrder;\n\n      if (this.getSortOrderColumns(columns).length > 0) {\n        var sortState = this.getSortStateFromColumns(columns);\n\n        if (!isSameColumn(sortState.sortColumn, sortColumn) || sortState.sortOrder !== sortOrder) {\n          this.setState(sortState);\n        }\n      }\n    }\n  }, {\n    key: \"getDefaultSelection\",\n    value: function getDefaultSelection() {\n      var _this2 = this;\n\n      var rowSelection = getRowSelection(this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this2.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this2.getRecordKey(record, rowIndex);\n      });\n    }\n  }, {\n    key: \"getDefaultPagination\",\n    value: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends(_extends(_extends({}, defaultPagination), pagination), {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    }\n  }, {\n    key: \"getSortOrderColumns\",\n    value: function getSortOrderColumns(columns) {\n      return flatFilter(columns || (this.state || {}).columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    }\n  }, {\n    key: \"getDefaultFilters\",\n    value: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns(this.state, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends(_extends({}, defaultFilters), definedFilters);\n    }\n  }, {\n    key: \"getDefaultSortOrder\",\n    value: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sortColumn: defaultSortedColumn,\n          sortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    }\n  }, {\n    key: \"getSortStateFromColumns\",\n    value: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sortColumn: sortedColumn,\n          sortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sortColumn: null,\n        sortOrder: null\n      };\n    }\n  }, {\n    key: \"getMaxCurrent\",\n    value: function getMaxCurrent(total) {\n      var _this$state$paginatio = this.state.pagination,\n          current = _this$state$paginatio.current,\n          pageSize = _this$state$paginatio.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    }\n  }, {\n    key: \"getSorterFn\",\n    value: function getSorterFn(state) {\n      var _ref5 = state || this.state,\n          sortOrder = _ref5.sortOrder,\n          sortColumn = _ref5.sortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    }\n  }, {\n    key: \"getCurrentPageData\",\n    value: function getCurrentPageData() {\n      var data = this.getLocalData();\n      var current;\n      var pageSize;\n      var state = this.state; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = state.pagination.pageSize;\n        current = this.getMaxCurrent(state.pagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return data;\n    }\n  }, {\n    key: \"getFlatData\",\n    value: function getFlatData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    }\n  }, {\n    key: \"getFlatCurrentPageData\",\n    value: function getFlatCurrentPageData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    }\n  }, {\n    key: \"getLocalData\",\n    value: function getLocalData(state) {\n      var _this3 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.state;\n      var dataSource = this.props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        data = this.recursiveSort(data, sorterFn);\n      } // 筛选\n\n\n      if (filter && currentState.filters) {\n        Object.keys(currentState.filters).forEach(function (columnKey) {\n          var col = _this3.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = currentState.filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: \"setSelectedRowKeys\",\n    value: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this4 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.props.store.setState({\n          selectedRowKeys: selectedRowKeys\n        });\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    }\n  }, {\n    key: \"toggleSortOrder\",\n    value: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.props.sortDirections;\n      var _this$state2 = this.state,\n          sortOrder = _this$state2.sortOrder,\n          sortColumn = _this$state2.sortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sortOrder: newSortOrder,\n        sortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n\n      var onChange = this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, this.prepareParamsArguments(_extends(_extends({}, this.state), newState), column));\n      }\n    }\n  }, {\n    key: \"hasPagination\",\n    value: function hasPagination(props) {\n      return (props || this.props).pagination !== false;\n    }\n  }, {\n    key: \"isSortColumn\",\n    value: function isSortColumn(column) {\n      var sortColumn = this.state.sortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    } // Get pagination, filters, sorter\n\n  }, {\n    key: \"prepareParamsArguments\",\n    value: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.pagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.filters;\n      var sorter = {};\n      var currentColumn = column;\n\n      if (state.sortColumn && state.sortOrder) {\n        currentColumn = state.sortColumn;\n        sorter.column = state.sortColumn;\n        sorter.order = state.sortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    }\n  }, {\n    key: \"findColumn\",\n    value: function findColumn(myKey) {\n      var column;\n      treeMap(this.state.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    }\n  }, {\n    key: \"recursiveSort\",\n    value: function recursiveSort(data, sorterFn) {\n      var _this5 = this;\n\n      var _this$props$childrenC = this.props.childrenColumnName,\n          childrenColumnName = _this$props$childrenC === void 0 ? 'children' : _this$props$childrenC;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends(_extends({}, item), _defineProperty({}, childrenColumnName, _this5.recursiveSort(item[childrenColumnName], sorterFn))) : item;\n      });\n    }\n  }, {\n    key: \"renderPagination\",\n    value: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.state.pagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.props.size === 'middle' || this.props.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.getLocalData().length;\n      return total > 0 && (position === paginationPosition || position === 'both') ? /*#__PURE__*/React.createElement(Pagination, _extends({\n        key: \"pagination-\".concat(paginationPosition)\n      }, pagination, {\n        className: classNames(pagination.className, \"\".concat(prefixCls, \"-pagination\")),\n        onChange: this.handlePageChange,\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        onShowSizeChange: this.handleShowSizeChange\n      })) : null;\n    }\n  }, {\n    key: \"renderRowSelection\",\n    value: function renderRowSelection(_ref6) {\n      var _this6 = this;\n\n      var prefixCls = _ref6.prefixCls,\n          locale = _ref6.locale,\n          getPopupContainer = _ref6.getPopupContainer;\n      var rowSelection = this.props.rowSelection;\n      var columns = this.state.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this6.getCheckboxPropsByItem(item, index).disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          render: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          className: \"\".concat(prefixCls, \"-selection-col\")\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this6.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || /*#__PURE__*/React.createElement(SelectionCheckboxAll, {\n            store: this.props.store,\n            locale: locale,\n            data: data,\n            getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n            getRecordKey: this.getRecordKey,\n            disabled: checkboxAllDisabled,\n            prefixCls: prefixCls,\n            onSelect: this.handleSelectRow,\n            selections: rowSelection.selections,\n            hideDefaultSelections: rowSelection.hideDefaultSelections,\n            getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n          });\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    }\n  }, {\n    key: \"renderColumnsDropdown\",\n    value: function renderColumnsDropdown(_ref7) {\n      var _this7 = this;\n\n      var prefixCls = _ref7.prefixCls,\n          dropdownPrefixCls = _ref7.dropdownPrefixCls,\n          columns = _ref7.columns,\n          locale = _ref7.locale,\n          getPopupContainer = _ref7.getPopupContainer;\n      var _this$state3 = this.state,\n          sortOrder = _this$state3.sortOrder,\n          filters = _this$state3.filters;\n      return treeMap(columns, function (column, i) {\n        var _classNames4;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown;\n        var sortButton;\n        var onHeaderCell = column.onHeaderCell;\n\n        var isSortColumn = _this7.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = /*#__PURE__*/React.createElement(FilterDropdown, {\n            locale: locale,\n            column: column,\n            selectedKeys: colFilters,\n            confirmFilter: _this7.handleFilter,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n            getPopupContainer: _this7.generatePopupContainerFunc(getPopupContainer),\n            key: \"filter-dropdown\"\n          });\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this7.props.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && /*#__PURE__*/React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            type: \"caret-up\",\n            theme: \"filled\"\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && /*#__PURE__*/React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            type: \"caret-down\",\n            theme: \"filled\"\n          });\n          sortButton = /*#__PURE__*/React.createElement(\"div\", {\n            title: locale.sortTitle,\n            className: classNames(\"\".concat(prefixCls, \"-column-sorter-inner\"), ascend && descend && \"\".concat(prefixCls, \"-column-sorter-inner-full\")),\n            key: \"sorter\"\n          }, ascend, descend);\n\n          onHeaderCell = function onHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.onHeaderCell) {\n              colProps = _extends({}, column.onHeaderCell(col));\n            } // Add sorter logic\n\n\n            var onHeaderCellClick = colProps.onClick;\n\n            colProps.onClick = function () {\n              _this7.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends(_extends({}, column), {\n          className: classNames(column.className, (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames4)),\n          title: [/*#__PURE__*/React.createElement(\"span\", {\n            key: \"title\",\n            className: \"\".concat(prefixCls, \"-header-column\")\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-title\")\n          }, _this7.renderColumnTitle(column.title)), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter\")\n          }, sortButton))), filterDropdown],\n          onHeaderCell: onHeaderCell\n        });\n      });\n    }\n  }, {\n    key: \"renderColumnTitle\",\n    value: function renderColumnTitle(title) {\n      var _this$state4 = this.state,\n          filters = _this$state4.filters,\n          sortOrder = _this$state4.sortOrder,\n          sortColumn = _this$state4.sortColumn; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n\n      return title;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderComponent);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var prevProps = prevState.prevProps;\n      var columns = nextProps.columns || normalizeColumns(nextProps.children);\n\n      var nextState = _extends(_extends({}, prevState), {\n        prevProps: nextProps,\n        columns: columns\n      });\n\n      if ('pagination' in nextProps || 'pagination' in prevProps) {\n        var newPagination = _extends(_extends(_extends({}, defaultPagination), prevState.pagination), nextProps.pagination);\n\n        newPagination.current = newPagination.current || 1;\n        newPagination.pageSize = newPagination.pageSize || 10;\n        nextState = _extends(_extends({}, nextState), {\n          pagination: nextProps.pagination !== false ? newPagination : emptyObject\n        });\n      }\n\n      if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n        nextProps.store.setState({\n          selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\n        });\n      } else if (prevProps.rowSelection && !nextProps.rowSelection) {\n        nextProps.store.setState({\n          selectedRowKeys: []\n        });\n      }\n\n      if ('dataSource' in nextProps && nextProps.dataSource !== prevProps.dataSource) {\n        nextProps.store.setState({\n          selectionDirty: false\n        });\n      } // https://github.com/ant-design/ant-design/issues/10133\n\n\n      nextProps.setCheckboxPropsCache({}); // Update filters\n\n      var filteredValueColumns = getFilteredValueColumns(nextState, nextState.columns);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns(nextState, nextState.columns);\n\n        var newFilters = _extends({}, nextState.filters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (isFiltersChanged(nextState, newFilters)) {\n          nextState = _extends(_extends({}, nextState), {\n            filters: newFilters\n          });\n        }\n      }\n\n      if (!isTheSameComponents(nextProps.components, prevProps.components)) {\n        var components = createComponents(nextProps.components);\n        nextState = _extends(_extends({}, nextState), {\n          components: components\n        });\n      }\n\n      return nextState;\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = {\n  dataSource: PropTypes.array,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  useFixedHeader: PropTypes.bool,\n  rowSelection: PropTypes.object,\n  className: PropTypes.string,\n  size: PropTypes.string,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  bordered: PropTypes.bool,\n  onChange: PropTypes.func,\n  locale: PropTypes.object,\n  dropdownPrefixCls: PropTypes.string,\n  sortDirections: PropTypes.array,\n  getPopupContainer: PropTypes.func\n};\nTable.defaultProps = {\n  dataSource: [],\n  useFixedHeader: false,\n  className: '',\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend'],\n  childrenColumnName: 'children'\n};\npolyfill(Table);\n\nvar StoreTable = /*#__PURE__*/function (_React$Component2) {\n  _inherits(StoreTable, _React$Component2);\n\n  var _super2 = _createSuper(StoreTable);\n\n  function StoreTable(props) {\n    var _this8;\n\n    _classCallCheck(this, StoreTable);\n\n    _this8 = _super2.call(this, props);\n\n    _this8.setCheckboxPropsCache = function (cache) {\n      return _this8.CheckboxPropsCache = cache;\n    };\n\n    _this8.CheckboxPropsCache = {};\n    _this8.store = createStore({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _this8;\n  }\n\n  _createClass(StoreTable, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Table, _extends({}, this.props, {\n        store: this.store,\n        checkboxPropsCache: this.CheckboxPropsCache,\n        setCheckboxPropsCache: this.setCheckboxPropsCache\n      }));\n    }\n  }]);\n\n  return StoreTable;\n}(React.Component);\n\nStoreTable.displayName = 'withStore(Table)';\nStoreTable.Column = Column;\nStoreTable.ColumnGroup = ColumnGroup;\nexport default StoreTable;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","_extends","assign","source","hasOwnProperty","__rest","s","t","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","omit","RcTable","INTERNAL_COL_DEFINE","PropTypes","classNames","shallowEqual","polyfill","FilterDropdown","createStore","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","normalizeColumns","scrollTo","Pagination","Icon","Spin","TransButton","LocaleReceiver","defaultLocale","ConfigConsumer","warning","noop","stopPropagation","getRowSelection","rowSelection","getColumnKey","column","index","dataIndex","isSameColumn","a","b","other","Array","isArray","defaultPagination","onChange","onShowSizeChange","emptyObject","createComponents","components","undefined","bodyRow","body","row","isTheSameComponents","components1","components2","every","getFilteredValueColumns","state","columns","filteredValue","getFiltersFromColumns","filters","forEach","col","colKey","isFiltersChanged","keys","some","columnKey","Table","_React$Component","_super","_this","setTableRef","table","rcTable","getCheckboxPropsByItem","item","getCheckboxProps","getRecordKey","checkboxPropsCache","checkboxProps","record","rowKey","recordKey","onRow","prefixCls","custom","store","generatePopupContainerFunc","getPopupContainer","scroll","tableNode","scrollToFirstRow","scrollToFirstRowOnChange","getContainer","bodyTable","handleFilter","nextFilters","pagination","currentColumnKeys","c","children","push","current","newState","filtersToSetState","setState","selectionDirty","prepareParamsArguments","handleSelect","rowIndex","checked","nativeEvent","defaultSelection","getState","getDefaultSelection","selectedRowKeys","concat","pivot","rows","getFlatCurrentPageData","realIndex","expandedRowRender","findIndex","shiftKey","changeRowKeys","direction","Math","sign","dist","abs","step","_loop","disabled","includes","filter","j","setSelectedRowKeys","selectWay","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","data","changeableRowKeys","map","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","_len","otherArguments","_key","handleShowSizeChange","pageSize","nextPagination","renderExpandIcon","_ref","expandable","expanded","needIndentSpaced","onExpand","createElement","componentName","locale","_classNames","className","onClick","event","collapse","expand","noStyle","renderSelectionBox","type","_","handleChange","renderTable","_ref2","_classNames2","renderEmpty","dropdownPrefixCls","contextLocale","contextGetPopupContainer","_a","showHeader","restTableProps","restProps","getCurrentPageData","expandIconAsCell","realGetPopupContainer","mergedLocale","emptyText","classString","size","bordered","columnsWithRowSelection","renderRowSelection","renderColumnsDropdown","newColumn","expandIconColumnIndex","ref","expandIcon","renderComponent","_ref3","getPrefixCls","_this$props","customizePrefixCls","customizeDropdownPrefixCls","style","loading","spinning","paginationPatchClass","hasPagination","renderPagination","columnsProp","_ref4","fixed","getDefaultSortOrder","getDefaultFilters","getDefaultPagination","prevProps","componentDidUpdate","_this$state","sortColumn","sortOrder","getSortOrderColumns","sortState","getSortStateFromColumns","_this2","getFlatData","defaultChecked","defaultCurrent","defaultPageSize","definedFilters","defaultFilteredValueColumns","defaultFilteredValue","defaultFilters","reduce","soFar","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","getMaxCurrent","total","_this$state$paginatio","floor","getSorterFn","_ref5","sorter","getLocalData","Number","MAX_VALUE","slice","childrenColumnName","_this3","currentState","dataSource","sorterFn","recursiveSort","findColumn","values","onFilter","v","selectionInfo","_this4","selectedRows","onSelect","onSelectMultiple","changeRows","onSelectAll","_changeRows","onSelectInvert","toggleSortOrder","sortDirections","_this$state2","newSortOrder","methodIndex","isSortColumn","currentColumn","order","field","extra","currentDataSource","myKey","_this5","_this$props$childrenC","sort","paginationPosition","position","_ref6","_this6","selectionColumnClass","selections","selectionColumn","render","width","columnWidth","title","columnTitle","checkboxAllDisabled","unshift","_ref7","_this7","_this$state3","_classNames4","filterDropdown","sortButton","onHeaderCell","colFilters","selectedKeys","confirmFilter","isAscend","isDescend","ascend","theme","descend","sortTitle","colProps","onHeaderCellClick","renderColumnTitle","_this$state4","Function","getDerivedStateFromProps","nextProps","prevState","nextState","newPagination","setCheckboxPropsCache","filteredValueColumns","filtersFromColumns","newFilters","Component","propTypes","array","string","useFixedHeader","bool","object","oneOfType","func","defaultProps","indentSize","StoreTable","_React$Component2","_super2","_this8","cache","CheckboxPropsCache","displayName"],"sources":["/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/antd/es/table/Table.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable prefer-spread */\n\n\nimport * as React from 'react';\nimport omit from 'omit.js';\nimport RcTable, { INTERNAL_COL_DEFINE } from 'rc-table';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport { polyfill } from 'react-lifecycles-compat';\nimport FilterDropdown from './filterDropdown';\nimport createStore from './createStore';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\nimport scrollTo from '../_util/scrollTo';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport TransButton from '../_util/transButton';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    } // https://github.com/ant-design/ant-design/issues/19398\n\n\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends(_extends({}, components), {\n    body: _extends(_extends({}, components.body), {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var columns = arguments.length > 1 ? arguments[1] : undefined;\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nvar Table = /*#__PURE__*/function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  var _super = _createSuper(Table);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _super.call(this, props);\n\n    _this.setTableRef = function (table) {\n      _this.rcTable = table;\n    };\n\n    _this.getCheckboxPropsByItem = function (item, index) {\n      var rowSelection = getRowSelection(_this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n\n      var key = _this.getRecordKey(item, index); // Cache checkboxProps\n\n\n      if (!_this.props.checkboxPropsCache[key]) {\n        _this.props.checkboxPropsCache[key] = rowSelection.getCheckboxProps(item) || {};\n        var checkboxProps = _this.props.checkboxPropsCache[key];\n        warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n\n      return _this.props.checkboxPropsCache[key];\n    };\n\n    _this.getRecordKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ' + 'see https://u.ant.design/table-row-key');\n      return recordKey === undefined ? index : recordKey;\n    };\n\n    _this.onRow = function (prefixCls, record, index) {\n      var onRow = _this.props.onRow;\n      var custom = onRow ? onRow(record, index) : {};\n      return _extends(_extends({}, custom), {\n        prefixCls: prefixCls,\n        store: _this.props.store,\n        rowKey: _this.getRecordKey(record, index)\n      });\n    };\n\n    _this.generatePopupContainerFunc = function (getPopupContainer) {\n      var scroll = _this.props.scroll;\n      var table = _this.rcTable;\n\n      if (getPopupContainer) {\n        return getPopupContainer;\n      } // Use undefined to let rc component use default logic.\n\n\n      return scroll && table ? function () {\n        return table.tableNode;\n      } : undefined;\n    };\n\n    _this.scrollToFirstRow = function () {\n      var scroll = _this.props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this.rcTable.bodyTable;\n          }\n        });\n      }\n    };\n\n    _this.handleFilter = function (column, nextFilters) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      var filters = _extends(_extends({}, _this.state.filters), _defineProperty({}, getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(_this.state.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        pagination: pagination,\n        filters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      getFilteredValueColumns(_this.state).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.filters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends(_extends({}, pagination), {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState, function () {\n        _this.scrollToFirstRow();\n\n        _this.props.store.setState({\n          selectionDirty: false\n        });\n\n        var onChange = _this.props.onChange;\n\n        if (onChange) {\n          onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n            selectionDirty: false,\n            filters: filters,\n            pagination: pagination\n          })));\n        }\n      });\n    };\n\n    _this.handleSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = _this.props.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.props.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var pivot = _this.state.pivot;\n\n      var rows = _this.getFlatCurrentPageData();\n\n      var realIndex = rowIndex;\n\n      if (_this.props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this.getRecordKey(row, i);\n\n          var checkboxProps = _this.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.props.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(_this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        _this.setState({\n          pivot: realIndex\n        });\n\n        _this.props.store.setState({\n          selectionDirty: true\n        });\n\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    };\n\n    _this.handleRadioSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n\n      var key = _this.getRecordKey(record, rowIndex);\n\n      var selectedRowKeys = [key];\n\n      _this.props.store.setState({\n        selectionDirty: true\n      });\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    };\n\n    _this.handleSelectRow = function (selectionKey, index, onSelectFunc) {\n      var data = _this.getFlatCurrentPageData();\n\n      var defaultSelection = _this.props.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n\n      var selectedRowKeys = _this.props.store.getState().selectedRowKeys.concat(defaultSelection);\n\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      _this.props.store.setState({\n        selectionDirty: true\n      }); // when select custom selection, callback selections[n].onSelect\n\n\n      var rowSelection = _this.props.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    };\n\n    _this.handlePageChange = function (current) {\n      var props = _this.props;\n\n      var pagination = _extends({}, _this.state.pagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        pagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends(_extends({}, pagination), {\n          current: _this.state.pagination.current\n        });\n      }\n\n      _this.setState(newState, _this.scrollToFirstRow);\n\n      _this.props.store.setState({\n        selectionDirty: false\n      });\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n          selectionDirty: false,\n          pagination: pagination\n        })));\n      }\n    };\n\n    _this.handleShowSizeChange = function (current, pageSize) {\n      var pagination = _this.state.pagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends(_extends({}, pagination), {\n        pageSize: pageSize,\n        current: current\n      });\n\n      _this.setState({\n        pagination: nextPagination\n      }, _this.scrollToFirstRow);\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends(_extends({}, _this.state), {\n          pagination: nextPagination\n        })));\n      }\n    };\n\n    _this.renderExpandIcon = function (prefixCls) {\n      return function (_ref) {\n        var expandable = _ref.expandable,\n            expanded = _ref.expanded,\n            needIndentSpaced = _ref.needIndentSpaced,\n            record = _ref.record,\n            onExpand = _ref.onExpand;\n\n        if (expandable) {\n          return /*#__PURE__*/React.createElement(LocaleReceiver, {\n            componentName: \"Table\",\n            defaultLocale: defaultLocale.Table\n          }, function (locale) {\n            var _classNames;\n\n            return /*#__PURE__*/React.createElement(TransButton, {\n              className: classNames(\"\".concat(prefixCls, \"-row-expand-icon\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-collapsed\"), !expanded), _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-expanded\"), expanded), _classNames)),\n              onClick: function onClick(event) {\n                onExpand(record, event);\n              },\n              \"aria-label\": expanded ? locale.collapse : locale.expand,\n              noStyle: true\n            });\n          });\n        }\n\n        if (needIndentSpaced) {\n          return /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-row-expand-icon \").concat(prefixCls, \"-row-spaced\")\n          });\n        }\n\n        return null;\n      };\n    };\n\n    _this.renderSelectionBox = function (type) {\n      return function (_, record, index) {\n        var rowKey = _this.getRecordKey(record, index);\n\n        var props = _this.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          return type === 'radio' ? _this.handleRadioSelect(record, index, e) : _this.handleSelect(record, index, e);\n        };\n\n        return /*#__PURE__*/React.createElement(\"span\", {\n          onClick: stopPropagation\n        }, /*#__PURE__*/React.createElement(SelectionBox, _extends({\n          type: type,\n          store: _this.props.store,\n          rowIndex: rowKey,\n          onChange: handleChange,\n          defaultSelection: _this.getDefaultSelection()\n        }, props)));\n      };\n    };\n\n    _this.renderTable = function (_ref2) {\n      var _classNames2;\n\n      var prefixCls = _ref2.prefixCls,\n          renderEmpty = _ref2.renderEmpty,\n          dropdownPrefixCls = _ref2.dropdownPrefixCls,\n          contextLocale = _ref2.contextLocale,\n          contextGetPopupContainer = _ref2.getPopupContainer;\n\n      var _a = _this.props,\n          showHeader = _a.showHeader,\n          locale = _a.locale,\n          getPopupContainer = _a.getPopupContainer,\n          restTableProps = __rest(_a, [\"showHeader\", \"locale\", \"getPopupContainer\"]); // do not pass prop.style to rc-table, since already apply it to container div\n\n\n      var restProps = omit(restTableProps, ['style']);\n\n      var data = _this.getCurrentPageData();\n\n      var expandIconAsCell = _this.props.expandedRowRender && _this.props.expandIconAsCell !== false; // use props.getPopupContainer first\n\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer; // Merge too locales\n\n      var mergedLocale = _extends(_extends({}, contextLocale), locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n\n      var classString = classNames(\"\".concat(prefixCls, \"-\").concat(_this.props.size), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-bordered\"), _this.props.bordered), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames2));\n\n      var columnsWithRowSelection = _this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n\n      var columns = _this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      return /*#__PURE__*/React.createElement(RcTable, _extends({\n        ref: _this.setTableRef,\n        key: \"table\",\n        expandIcon: _this.renderExpandIcon(prefixCls)\n      }, restProps, {\n        onRow: function onRow(record, index) {\n          return _this.onRow(prefixCls, record, index);\n        },\n        components: _this.state.components,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        className: classString,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText\n      }));\n    };\n\n    _this.renderComponent = function (_ref3) {\n      var getPrefixCls = _ref3.getPrefixCls,\n          renderEmpty = _ref3.renderEmpty,\n          getPopupContainer = _ref3.getPopupContainer;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          customizeDropdownPrefixCls = _this$props.dropdownPrefixCls,\n          style = _this$props.style,\n          className = _this$props.className;\n\n      var data = _this.getCurrentPageData();\n\n      var loading = _this.props.loading;\n\n      if (typeof loading === 'boolean') {\n        loading = {\n          spinning: loading\n        };\n      }\n\n      var prefixCls = getPrefixCls('table', customizePrefixCls);\n      var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n      var table = /*#__PURE__*/React.createElement(LocaleReceiver, {\n        componentName: \"Table\",\n        defaultLocale: defaultLocale.Table\n      }, function (locale) {\n        return _this.renderTable({\n          prefixCls: prefixCls,\n          renderEmpty: renderEmpty,\n          dropdownPrefixCls: dropdownPrefixCls,\n          contextLocale: locale,\n          getPopupContainer: getPopupContainer\n        });\n      }); // if there is no pagination or no data,\n      // the height of spin should decrease by half of pagination\n\n      var paginationPatchClass = _this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n        style: style\n      }, /*#__PURE__*/React.createElement(Spin, _extends({}, loading, {\n        className: loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n      }), _this.renderPagination(prefixCls, 'top'), table, _this.renderPagination(prefixCls, 'bottom')));\n    };\n\n    var expandedRowRender = props.expandedRowRender,\n        columnsProp = props.columns;\n    warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' + 'fixed columns instead, see: https://u.ant.design/fixed-columns.');\n\n    if (expandedRowRender && (columnsProp || []).some(function (_ref4) {\n      var fixed = _ref4.fixed;\n      return !!fixed;\n    })) {\n      warning(false, 'Table', '`expandedRowRender` and `Column.fixed` are not compatible. Please use one of them at one time.');\n    }\n\n    var columns = columnsProp || normalizeColumns(props.children);\n    _this.state = _extends(_extends({}, _this.getDefaultSortOrder(columns || [])), {\n      // 减少状态\n      filters: _this.getDefaultFilters(columns),\n      pagination: _this.getDefaultPagination(props),\n      pivot: undefined,\n      prevProps: props,\n      components: createComponents(props.components),\n      columns: columns\n    });\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$state = this.state,\n          columns = _this$state.columns,\n          sortColumn = _this$state.sortColumn,\n          sortOrder = _this$state.sortOrder;\n\n      if (this.getSortOrderColumns(columns).length > 0) {\n        var sortState = this.getSortStateFromColumns(columns);\n\n        if (!isSameColumn(sortState.sortColumn, sortColumn) || sortState.sortOrder !== sortOrder) {\n          this.setState(sortState);\n        }\n      }\n    }\n  }, {\n    key: \"getDefaultSelection\",\n    value: function getDefaultSelection() {\n      var _this2 = this;\n\n      var rowSelection = getRowSelection(this.props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this2.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this2.getRecordKey(record, rowIndex);\n      });\n    }\n  }, {\n    key: \"getDefaultPagination\",\n    value: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends(_extends(_extends({}, defaultPagination), pagination), {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    }\n  }, {\n    key: \"getSortOrderColumns\",\n    value: function getSortOrderColumns(columns) {\n      return flatFilter(columns || (this.state || {}).columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    }\n  }, {\n    key: \"getDefaultFilters\",\n    value: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns(this.state, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends(_extends({}, defaultFilters), definedFilters);\n    }\n  }, {\n    key: \"getDefaultSortOrder\",\n    value: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sortColumn: defaultSortedColumn,\n          sortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    }\n  }, {\n    key: \"getSortStateFromColumns\",\n    value: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sortColumn: sortedColumn,\n          sortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sortColumn: null,\n        sortOrder: null\n      };\n    }\n  }, {\n    key: \"getMaxCurrent\",\n    value: function getMaxCurrent(total) {\n      var _this$state$paginatio = this.state.pagination,\n          current = _this$state$paginatio.current,\n          pageSize = _this$state$paginatio.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    }\n  }, {\n    key: \"getSorterFn\",\n    value: function getSorterFn(state) {\n      var _ref5 = state || this.state,\n          sortOrder = _ref5.sortOrder,\n          sortColumn = _ref5.sortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    }\n  }, {\n    key: \"getCurrentPageData\",\n    value: function getCurrentPageData() {\n      var data = this.getLocalData();\n      var current;\n      var pageSize;\n      var state = this.state; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = state.pagination.pageSize;\n        current = this.getMaxCurrent(state.pagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return data;\n    }\n  }, {\n    key: \"getFlatData\",\n    value: function getFlatData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    }\n  }, {\n    key: \"getFlatCurrentPageData\",\n    value: function getFlatCurrentPageData() {\n      var childrenColumnName = this.props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    }\n  }, {\n    key: \"getLocalData\",\n    value: function getLocalData(state) {\n      var _this3 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.state;\n      var dataSource = this.props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        data = this.recursiveSort(data, sorterFn);\n      } // 筛选\n\n\n      if (filter && currentState.filters) {\n        Object.keys(currentState.filters).forEach(function (columnKey) {\n          var col = _this3.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = currentState.filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: \"setSelectedRowKeys\",\n    value: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this4 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.props.store.setState({\n          selectedRowKeys: selectedRowKeys\n        });\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this4.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    }\n  }, {\n    key: \"toggleSortOrder\",\n    value: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.props.sortDirections;\n      var _this$state2 = this.state,\n          sortOrder = _this$state2.sortOrder,\n          sortColumn = _this$state2.sortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sortOrder: newSortOrder,\n        sortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n\n      var onChange = this.props.onChange;\n\n      if (onChange) {\n        onChange.apply(null, this.prepareParamsArguments(_extends(_extends({}, this.state), newState), column));\n      }\n    }\n  }, {\n    key: \"hasPagination\",\n    value: function hasPagination(props) {\n      return (props || this.props).pagination !== false;\n    }\n  }, {\n    key: \"isSortColumn\",\n    value: function isSortColumn(column) {\n      var sortColumn = this.state.sortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    } // Get pagination, filters, sorter\n\n  }, {\n    key: \"prepareParamsArguments\",\n    value: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.pagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.filters;\n      var sorter = {};\n      var currentColumn = column;\n\n      if (state.sortColumn && state.sortOrder) {\n        currentColumn = state.sortColumn;\n        sorter.column = state.sortColumn;\n        sorter.order = state.sortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    }\n  }, {\n    key: \"findColumn\",\n    value: function findColumn(myKey) {\n      var column;\n      treeMap(this.state.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    }\n  }, {\n    key: \"recursiveSort\",\n    value: function recursiveSort(data, sorterFn) {\n      var _this5 = this;\n\n      var _this$props$childrenC = this.props.childrenColumnName,\n          childrenColumnName = _this$props$childrenC === void 0 ? 'children' : _this$props$childrenC;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends(_extends({}, item), _defineProperty({}, childrenColumnName, _this5.recursiveSort(item[childrenColumnName], sorterFn))) : item;\n      });\n    }\n  }, {\n    key: \"renderPagination\",\n    value: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.state.pagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.props.size === 'middle' || this.props.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.getLocalData().length;\n      return total > 0 && (position === paginationPosition || position === 'both') ? /*#__PURE__*/React.createElement(Pagination, _extends({\n        key: \"pagination-\".concat(paginationPosition)\n      }, pagination, {\n        className: classNames(pagination.className, \"\".concat(prefixCls, \"-pagination\")),\n        onChange: this.handlePageChange,\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        onShowSizeChange: this.handleShowSizeChange\n      })) : null;\n    }\n  }, {\n    key: \"renderRowSelection\",\n    value: function renderRowSelection(_ref6) {\n      var _this6 = this;\n\n      var prefixCls = _ref6.prefixCls,\n          locale = _ref6.locale,\n          getPopupContainer = _ref6.getPopupContainer;\n      var rowSelection = this.props.rowSelection;\n      var columns = this.state.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this6.getCheckboxPropsByItem(item, index).disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          render: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          className: \"\".concat(prefixCls, \"-selection-col\")\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this6.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || /*#__PURE__*/React.createElement(SelectionCheckboxAll, {\n            store: this.props.store,\n            locale: locale,\n            data: data,\n            getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n            getRecordKey: this.getRecordKey,\n            disabled: checkboxAllDisabled,\n            prefixCls: prefixCls,\n            onSelect: this.handleSelectRow,\n            selections: rowSelection.selections,\n            hideDefaultSelections: rowSelection.hideDefaultSelections,\n            getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n          });\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    }\n  }, {\n    key: \"renderColumnsDropdown\",\n    value: function renderColumnsDropdown(_ref7) {\n      var _this7 = this;\n\n      var prefixCls = _ref7.prefixCls,\n          dropdownPrefixCls = _ref7.dropdownPrefixCls,\n          columns = _ref7.columns,\n          locale = _ref7.locale,\n          getPopupContainer = _ref7.getPopupContainer;\n      var _this$state3 = this.state,\n          sortOrder = _this$state3.sortOrder,\n          filters = _this$state3.filters;\n      return treeMap(columns, function (column, i) {\n        var _classNames4;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown;\n        var sortButton;\n        var onHeaderCell = column.onHeaderCell;\n\n        var isSortColumn = _this7.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = /*#__PURE__*/React.createElement(FilterDropdown, {\n            locale: locale,\n            column: column,\n            selectedKeys: colFilters,\n            confirmFilter: _this7.handleFilter,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n            getPopupContainer: _this7.generatePopupContainerFunc(getPopupContainer),\n            key: \"filter-dropdown\"\n          });\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this7.props.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && /*#__PURE__*/React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            type: \"caret-up\",\n            theme: \"filled\"\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && /*#__PURE__*/React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            type: \"caret-down\",\n            theme: \"filled\"\n          });\n          sortButton = /*#__PURE__*/React.createElement(\"div\", {\n            title: locale.sortTitle,\n            className: classNames(\"\".concat(prefixCls, \"-column-sorter-inner\"), ascend && descend && \"\".concat(prefixCls, \"-column-sorter-inner-full\")),\n            key: \"sorter\"\n          }, ascend, descend);\n\n          onHeaderCell = function onHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.onHeaderCell) {\n              colProps = _extends({}, column.onHeaderCell(col));\n            } // Add sorter logic\n\n\n            var onHeaderCellClick = colProps.onClick;\n\n            colProps.onClick = function () {\n              _this7.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends(_extends({}, column), {\n          className: classNames(column.className, (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames4)),\n          title: [/*#__PURE__*/React.createElement(\"span\", {\n            key: \"title\",\n            className: \"\".concat(prefixCls, \"-header-column\")\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-title\")\n          }, _this7.renderColumnTitle(column.title)), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter\")\n          }, sortButton))), filterDropdown],\n          onHeaderCell: onHeaderCell\n        });\n      });\n    }\n  }, {\n    key: \"renderColumnTitle\",\n    value: function renderColumnTitle(title) {\n      var _this$state4 = this.state,\n          filters = _this$state4.filters,\n          sortOrder = _this$state4.sortOrder,\n          sortColumn = _this$state4.sortColumn; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n\n      return title;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderComponent);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var prevProps = prevState.prevProps;\n      var columns = nextProps.columns || normalizeColumns(nextProps.children);\n\n      var nextState = _extends(_extends({}, prevState), {\n        prevProps: nextProps,\n        columns: columns\n      });\n\n      if ('pagination' in nextProps || 'pagination' in prevProps) {\n        var newPagination = _extends(_extends(_extends({}, defaultPagination), prevState.pagination), nextProps.pagination);\n\n        newPagination.current = newPagination.current || 1;\n        newPagination.pageSize = newPagination.pageSize || 10;\n        nextState = _extends(_extends({}, nextState), {\n          pagination: nextProps.pagination !== false ? newPagination : emptyObject\n        });\n      }\n\n      if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n        nextProps.store.setState({\n          selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\n        });\n      } else if (prevProps.rowSelection && !nextProps.rowSelection) {\n        nextProps.store.setState({\n          selectedRowKeys: []\n        });\n      }\n\n      if ('dataSource' in nextProps && nextProps.dataSource !== prevProps.dataSource) {\n        nextProps.store.setState({\n          selectionDirty: false\n        });\n      } // https://github.com/ant-design/ant-design/issues/10133\n\n\n      nextProps.setCheckboxPropsCache({}); // Update filters\n\n      var filteredValueColumns = getFilteredValueColumns(nextState, nextState.columns);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns(nextState, nextState.columns);\n\n        var newFilters = _extends({}, nextState.filters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (isFiltersChanged(nextState, newFilters)) {\n          nextState = _extends(_extends({}, nextState), {\n            filters: newFilters\n          });\n        }\n      }\n\n      if (!isTheSameComponents(nextProps.components, prevProps.components)) {\n        var components = createComponents(nextProps.components);\n        nextState = _extends(_extends({}, nextState), {\n          components: components\n        });\n      }\n\n      return nextState;\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = {\n  dataSource: PropTypes.array,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  useFixedHeader: PropTypes.bool,\n  rowSelection: PropTypes.object,\n  className: PropTypes.string,\n  size: PropTypes.string,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  bordered: PropTypes.bool,\n  onChange: PropTypes.func,\n  locale: PropTypes.object,\n  dropdownPrefixCls: PropTypes.string,\n  sortDirections: PropTypes.array,\n  getPopupContainer: PropTypes.func\n};\nTable.defaultProps = {\n  dataSource: [],\n  useFixedHeader: false,\n  className: '',\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend'],\n  childrenColumnName: 'children'\n};\npolyfill(Table);\n\nvar StoreTable = /*#__PURE__*/function (_React$Component2) {\n  _inherits(StoreTable, _React$Component2);\n\n  var _super2 = _createSuper(StoreTable);\n\n  function StoreTable(props) {\n    var _this8;\n\n    _classCallCheck(this, StoreTable);\n\n    _this8 = _super2.call(this, props);\n\n    _this8.setCheckboxPropsCache = function (cache) {\n      return _this8.CheckboxPropsCache = cache;\n    };\n\n    _this8.CheckboxPropsCache = {};\n    _this8.store = createStore({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _this8;\n  }\n\n  _createClass(StoreTable, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Table, _extends({}, this.props, {\n        store: this.store,\n        checkboxPropsCache: this.CheckboxPropsCache,\n        setCheckboxPropsCache: this.setCheckboxPropsCache\n      }));\n    }\n  }]);\n\n  return StoreTable;\n}(React.Component);\n\nStoreTable.displayName = 'withStore(Table)';\nStoreTable.Column = Column;\nStoreTable.ColumnGroup = ColumnGroup;\nexport default StoreTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}