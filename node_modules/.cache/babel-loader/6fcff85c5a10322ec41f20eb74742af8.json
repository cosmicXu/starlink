{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint react/sort-comp:0 */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport getUid from './uid';\nimport warning from 'warning';\nvar IFRAME_STYLE = {\n  position: 'absolute',\n  top: 0,\n  opacity: 0,\n  filter: 'alpha(opacity=0)',\n  left: 0,\n  zIndex: 9999\n}; // diferent from AjaxUpload, can only upload on at one time, serial seriously\n\nvar IframeUploader = function (_Component) {\n  _inherits(IframeUploader, _Component);\n\n  function IframeUploader() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, IframeUploader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = IframeUploader.__proto__ || Object.getPrototypeOf(IframeUploader)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      uploading: false\n    }, _this.file = {}, _this.onLoad = function () {\n      if (!_this.state.uploading) {\n        return;\n      }\n\n      var _this2 = _this,\n          props = _this2.props,\n          file = _this2.file;\n      var response = void 0;\n\n      try {\n        var doc = _this.getIframeDocument();\n\n        var script = doc.getElementsByTagName('script')[0];\n\n        if (script && script.parentNode === doc.body) {\n          doc.body.removeChild(script);\n        }\n\n        response = doc.body.innerHTML;\n        props.onSuccess(response, file);\n      } catch (err) {\n        warning(false, 'cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload');\n        response = 'cross-domain';\n        props.onError(err, null, file);\n      }\n\n      _this.endUpload();\n    }, _this.onChange = function () {\n      var target = _this.getFormInputNode(); // ie8/9 don't support FileList Object\n      // http://stackoverflow.com/questions/12830058/ie8-input-type-file-get-files\n\n\n      var file = _this.file = {\n        uid: getUid(),\n        name: target.value && target.value.substring(target.value.lastIndexOf('\\\\') + 1, target.value.length)\n      };\n\n      _this.startUpload();\n\n      var _this3 = _this,\n          props = _this3.props;\n\n      if (!props.beforeUpload) {\n        return _this.post(file);\n      }\n\n      var before = props.beforeUpload(file);\n\n      if (before && before.then) {\n        before.then(function () {\n          _this.post(file);\n        }, function () {\n          _this.endUpload();\n        });\n      } else if (before !== false) {\n        _this.post(file);\n      } else {\n        _this.endUpload();\n      }\n    }, _this.saveIframe = function (node) {\n      _this.iframe = node;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(IframeUploader, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.updateIframeWH();\n      this.initIframe();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.updateIframeWH();\n    }\n  }, {\n    key: 'getIframeNode',\n    value: function getIframeNode() {\n      return this.iframe;\n    }\n  }, {\n    key: 'getIframeDocument',\n    value: function getIframeDocument() {\n      return this.getIframeNode().contentDocument;\n    }\n  }, {\n    key: 'getFormNode',\n    value: function getFormNode() {\n      return this.getIframeDocument().getElementById('form');\n    }\n  }, {\n    key: 'getFormInputNode',\n    value: function getFormInputNode() {\n      return this.getIframeDocument().getElementById('input');\n    }\n  }, {\n    key: 'getFormDataNode',\n    value: function getFormDataNode() {\n      return this.getIframeDocument().getElementById('data');\n    }\n  }, {\n    key: 'getFileForMultiple',\n    value: function getFileForMultiple(file) {\n      return this.props.multiple ? [file] : file;\n    }\n  }, {\n    key: 'getIframeHTML',\n    value: function getIframeHTML(domain) {\n      var domainScript = '';\n      var domainInput = '';\n\n      if (domain) {\n        var script = 'script';\n        domainScript = '<' + script + '>document.domain=\"' + domain + '\";</' + script + '>';\n        domainInput = '<input name=\"_documentDomain\" value=\"' + domain + '\" />';\n      }\n\n      return '\\n    <!DOCTYPE html>\\n    <html>\\n    <head>\\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\\n    <style>\\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\\n    </style>\\n    ' + domainScript + '\\n    </head>\\n    <body>\\n    <form method=\"post\"\\n    encType=\"multipart/form-data\"\\n    action=\"\" id=\"form\"\\n    style=\"display:block;height:9999px;position:relative;overflow:hidden;\">\\n    <input id=\"input\" type=\"file\"\\n     name=\"' + this.props.name + '\"\\n     style=\"position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;\"/>\\n    ' + domainInput + '\\n    <span id=\"data\"></span>\\n    </form>\\n    </body>\\n    </html>\\n    ';\n    }\n  }, {\n    key: 'initIframeSrc',\n    value: function initIframeSrc() {\n      if (this.domain) {\n        this.getIframeNode().src = 'javascript:void((function(){\\n        var d = document;\\n        d.open();\\n        d.domain=\\'' + this.domain + '\\';\\n        d.write(\\'\\');\\n        d.close();\\n      })())';\n      }\n    }\n  }, {\n    key: 'initIframe',\n    value: function initIframe() {\n      var iframeNode = this.getIframeNode();\n      var win = iframeNode.contentWindow;\n      var doc = void 0;\n      this.domain = this.domain || '';\n      this.initIframeSrc();\n\n      try {\n        doc = win.document;\n      } catch (e) {\n        this.domain = document.domain;\n        this.initIframeSrc();\n        win = iframeNode.contentWindow;\n        doc = win.document;\n      }\n\n      doc.open('text/html', 'replace');\n      doc.write(this.getIframeHTML(this.domain));\n      doc.close();\n      this.getFormInputNode().onchange = this.onChange;\n    }\n  }, {\n    key: 'endUpload',\n    value: function endUpload() {\n      if (this.state.uploading) {\n        this.file = {}; // hack avoid batch\n\n        this.state.uploading = false;\n        this.setState({\n          uploading: false\n        });\n        this.initIframe();\n      }\n    }\n  }, {\n    key: 'startUpload',\n    value: function startUpload() {\n      if (!this.state.uploading) {\n        this.state.uploading = true;\n        this.setState({\n          uploading: true\n        });\n      }\n    }\n  }, {\n    key: 'updateIframeWH',\n    value: function updateIframeWH() {\n      var rootNode = ReactDOM.findDOMNode(this);\n      var iframeNode = this.getIframeNode();\n      iframeNode.style.height = rootNode.offsetHeight + 'px';\n      iframeNode.style.width = rootNode.offsetWidth + 'px';\n    }\n  }, {\n    key: 'abort',\n    value: function abort(file) {\n      if (file) {\n        var uid = file;\n\n        if (file && file.uid) {\n          uid = file.uid;\n        }\n\n        if (uid === this.file.uid) {\n          this.endUpload();\n        }\n      } else {\n        this.endUpload();\n      }\n    }\n  }, {\n    key: 'post',\n    value: function post(file) {\n      var _this4 = this;\n\n      var formNode = this.getFormNode();\n      var dataSpan = this.getFormDataNode();\n      var data = this.props.data;\n      var onStart = this.props.onStart;\n\n      if (typeof data === 'function') {\n        data = data(file);\n      }\n\n      var inputs = document.createDocumentFragment();\n\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          var input = document.createElement('input');\n          input.setAttribute('name', key);\n          input.value = data[key];\n          inputs.appendChild(input);\n        }\n      }\n\n      dataSpan.appendChild(inputs);\n      new Promise(function (resolve) {\n        var action = _this4.props.action;\n\n        if (typeof action === 'function') {\n          return resolve(action(file));\n        }\n\n        resolve(action);\n      }).then(function (action) {\n        formNode.setAttribute('action', action);\n        formNode.submit();\n        dataSpan.innerHTML = '';\n        onStart(file);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _props = this.props,\n          Tag = _props.component,\n          disabled = _props.disabled,\n          className = _props.className,\n          prefixCls = _props.prefixCls,\n          children = _props.children,\n          style = _props.style;\n\n      var iframeStyle = _extends({}, IFRAME_STYLE, {\n        display: this.state.uploading || disabled ? 'none' : ''\n      });\n\n      var cls = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, prefixCls + '-disabled', disabled), _defineProperty(_classNames, className, className), _classNames));\n      return React.createElement(Tag, {\n        className: cls,\n        style: _extends({\n          position: 'relative',\n          zIndex: 0\n        }, style)\n      }, React.createElement('iframe', {\n        ref: this.saveIframe,\n        onLoad: this.onLoad,\n        style: iframeStyle\n      }), children);\n    }\n  }]);\n\n  return IframeUploader;\n}(Component);\n\nIframeUploader.propTypes = {\n  component: PropTypes.string,\n  style: PropTypes.object,\n  disabled: PropTypes.bool,\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  accept: PropTypes.string,\n  onStart: PropTypes.func,\n  multiple: PropTypes.bool,\n  children: PropTypes.any,\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  name: PropTypes.string\n};\nexport default IframeUploader;","map":{"version":3,"names":["_defineProperty","_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Component","PropTypes","ReactDOM","classNames","getUid","warning","IFRAME_STYLE","position","top","opacity","filter","left","zIndex","IframeUploader","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","Object","getPrototypeOf","call","apply","concat","state","uploading","file","onLoad","_this2","props","response","doc","getIframeDocument","script","getElementsByTagName","parentNode","body","removeChild","innerHTML","onSuccess","err","onError","endUpload","onChange","target","getFormInputNode","uid","name","value","substring","lastIndexOf","startUpload","_this3","beforeUpload","post","before","then","saveIframe","node","iframe","key","componentDidMount","updateIframeWH","initIframe","componentDidUpdate","getIframeNode","contentDocument","getFormNode","getElementById","getFormDataNode","getFileForMultiple","multiple","getIframeHTML","domain","domainScript","domainInput","initIframeSrc","src","iframeNode","win","contentWindow","document","e","open","write","close","onchange","setState","rootNode","findDOMNode","style","height","offsetHeight","width","offsetWidth","abort","_this4","formNode","dataSpan","data","onStart","inputs","createDocumentFragment","hasOwnProperty","input","createElement","setAttribute","appendChild","Promise","resolve","action","submit","render","_classNames","_props","Tag","component","disabled","className","prefixCls","children","iframeStyle","display","cls","ref","propTypes","string","object","bool","accept","func","any","oneOfType"],"sources":["/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/rc-upload/es/IframeUploader.js"],"sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint react/sort-comp:0 */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport getUid from './uid';\nimport warning from 'warning';\n\nvar IFRAME_STYLE = {\n  position: 'absolute',\n  top: 0,\n  opacity: 0,\n  filter: 'alpha(opacity=0)',\n  left: 0,\n  zIndex: 9999\n};\n\n// diferent from AjaxUpload, can only upload on at one time, serial seriously\n\nvar IframeUploader = function (_Component) {\n  _inherits(IframeUploader, _Component);\n\n  function IframeUploader() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, IframeUploader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = IframeUploader.__proto__ || Object.getPrototypeOf(IframeUploader)).call.apply(_ref, [this].concat(args))), _this), _this.state = { uploading: false }, _this.file = {}, _this.onLoad = function () {\n      if (!_this.state.uploading) {\n        return;\n      }\n      var _this2 = _this,\n          props = _this2.props,\n          file = _this2.file;\n\n      var response = void 0;\n      try {\n        var doc = _this.getIframeDocument();\n        var script = doc.getElementsByTagName('script')[0];\n        if (script && script.parentNode === doc.body) {\n          doc.body.removeChild(script);\n        }\n        response = doc.body.innerHTML;\n        props.onSuccess(response, file);\n      } catch (err) {\n        warning(false, 'cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload');\n        response = 'cross-domain';\n        props.onError(err, null, file);\n      }\n      _this.endUpload();\n    }, _this.onChange = function () {\n      var target = _this.getFormInputNode();\n      // ie8/9 don't support FileList Object\n      // http://stackoverflow.com/questions/12830058/ie8-input-type-file-get-files\n      var file = _this.file = {\n        uid: getUid(),\n        name: target.value && target.value.substring(target.value.lastIndexOf('\\\\') + 1, target.value.length)\n      };\n      _this.startUpload();\n      var _this3 = _this,\n          props = _this3.props;\n\n      if (!props.beforeUpload) {\n        return _this.post(file);\n      }\n      var before = props.beforeUpload(file);\n      if (before && before.then) {\n        before.then(function () {\n          _this.post(file);\n        }, function () {\n          _this.endUpload();\n        });\n      } else if (before !== false) {\n        _this.post(file);\n      } else {\n        _this.endUpload();\n      }\n    }, _this.saveIframe = function (node) {\n      _this.iframe = node;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(IframeUploader, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.updateIframeWH();\n      this.initIframe();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.updateIframeWH();\n    }\n  }, {\n    key: 'getIframeNode',\n    value: function getIframeNode() {\n      return this.iframe;\n    }\n  }, {\n    key: 'getIframeDocument',\n    value: function getIframeDocument() {\n      return this.getIframeNode().contentDocument;\n    }\n  }, {\n    key: 'getFormNode',\n    value: function getFormNode() {\n      return this.getIframeDocument().getElementById('form');\n    }\n  }, {\n    key: 'getFormInputNode',\n    value: function getFormInputNode() {\n      return this.getIframeDocument().getElementById('input');\n    }\n  }, {\n    key: 'getFormDataNode',\n    value: function getFormDataNode() {\n      return this.getIframeDocument().getElementById('data');\n    }\n  }, {\n    key: 'getFileForMultiple',\n    value: function getFileForMultiple(file) {\n      return this.props.multiple ? [file] : file;\n    }\n  }, {\n    key: 'getIframeHTML',\n    value: function getIframeHTML(domain) {\n      var domainScript = '';\n      var domainInput = '';\n      if (domain) {\n        var script = 'script';\n        domainScript = '<' + script + '>document.domain=\"' + domain + '\";</' + script + '>';\n        domainInput = '<input name=\"_documentDomain\" value=\"' + domain + '\" />';\n      }\n      return '\\n    <!DOCTYPE html>\\n    <html>\\n    <head>\\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\\n    <style>\\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\\n    </style>\\n    ' + domainScript + '\\n    </head>\\n    <body>\\n    <form method=\"post\"\\n    encType=\"multipart/form-data\"\\n    action=\"\" id=\"form\"\\n    style=\"display:block;height:9999px;position:relative;overflow:hidden;\">\\n    <input id=\"input\" type=\"file\"\\n     name=\"' + this.props.name + '\"\\n     style=\"position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;\"/>\\n    ' + domainInput + '\\n    <span id=\"data\"></span>\\n    </form>\\n    </body>\\n    </html>\\n    ';\n    }\n  }, {\n    key: 'initIframeSrc',\n    value: function initIframeSrc() {\n      if (this.domain) {\n        this.getIframeNode().src = 'javascript:void((function(){\\n        var d = document;\\n        d.open();\\n        d.domain=\\'' + this.domain + '\\';\\n        d.write(\\'\\');\\n        d.close();\\n      })())';\n      }\n    }\n  }, {\n    key: 'initIframe',\n    value: function initIframe() {\n      var iframeNode = this.getIframeNode();\n      var win = iframeNode.contentWindow;\n      var doc = void 0;\n      this.domain = this.domain || '';\n      this.initIframeSrc();\n      try {\n        doc = win.document;\n      } catch (e) {\n        this.domain = document.domain;\n        this.initIframeSrc();\n        win = iframeNode.contentWindow;\n        doc = win.document;\n      }\n      doc.open('text/html', 'replace');\n      doc.write(this.getIframeHTML(this.domain));\n      doc.close();\n      this.getFormInputNode().onchange = this.onChange;\n    }\n  }, {\n    key: 'endUpload',\n    value: function endUpload() {\n      if (this.state.uploading) {\n        this.file = {};\n        // hack avoid batch\n        this.state.uploading = false;\n        this.setState({\n          uploading: false\n        });\n        this.initIframe();\n      }\n    }\n  }, {\n    key: 'startUpload',\n    value: function startUpload() {\n      if (!this.state.uploading) {\n        this.state.uploading = true;\n        this.setState({\n          uploading: true\n        });\n      }\n    }\n  }, {\n    key: 'updateIframeWH',\n    value: function updateIframeWH() {\n      var rootNode = ReactDOM.findDOMNode(this);\n      var iframeNode = this.getIframeNode();\n      iframeNode.style.height = rootNode.offsetHeight + 'px';\n      iframeNode.style.width = rootNode.offsetWidth + 'px';\n    }\n  }, {\n    key: 'abort',\n    value: function abort(file) {\n      if (file) {\n        var uid = file;\n        if (file && file.uid) {\n          uid = file.uid;\n        }\n        if (uid === this.file.uid) {\n          this.endUpload();\n        }\n      } else {\n        this.endUpload();\n      }\n    }\n  }, {\n    key: 'post',\n    value: function post(file) {\n      var _this4 = this;\n\n      var formNode = this.getFormNode();\n      var dataSpan = this.getFormDataNode();\n      var data = this.props.data;\n      var onStart = this.props.onStart;\n\n      if (typeof data === 'function') {\n        data = data(file);\n      }\n      var inputs = document.createDocumentFragment();\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          var input = document.createElement('input');\n          input.setAttribute('name', key);\n          input.value = data[key];\n          inputs.appendChild(input);\n        }\n      }\n      dataSpan.appendChild(inputs);\n      new Promise(function (resolve) {\n        var action = _this4.props.action;\n\n        if (typeof action === 'function') {\n          return resolve(action(file));\n        }\n        resolve(action);\n      }).then(function (action) {\n        formNode.setAttribute('action', action);\n        formNode.submit();\n        dataSpan.innerHTML = '';\n        onStart(file);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _props = this.props,\n          Tag = _props.component,\n          disabled = _props.disabled,\n          className = _props.className,\n          prefixCls = _props.prefixCls,\n          children = _props.children,\n          style = _props.style;\n\n      var iframeStyle = _extends({}, IFRAME_STYLE, {\n        display: this.state.uploading || disabled ? 'none' : ''\n      });\n      var cls = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, prefixCls + '-disabled', disabled), _defineProperty(_classNames, className, className), _classNames));\n      return React.createElement(\n        Tag,\n        {\n          className: cls,\n          style: _extends({ position: 'relative', zIndex: 0 }, style)\n        },\n        React.createElement('iframe', {\n          ref: this.saveIframe,\n          onLoad: this.onLoad,\n          style: iframeStyle\n        }),\n        children\n      );\n    }\n  }]);\n\n  return IframeUploader;\n}(Component);\n\nIframeUploader.propTypes = {\n  component: PropTypes.string,\n  style: PropTypes.object,\n  disabled: PropTypes.bool,\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  accept: PropTypes.string,\n  onStart: PropTypes.func,\n  multiple: PropTypes.bool,\n  children: PropTypes.any,\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  name: PropTypes.string\n};\n\n\nexport default IframeUploader;"],"mappings":"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"},"metadata":{},"sourceType":"module"}