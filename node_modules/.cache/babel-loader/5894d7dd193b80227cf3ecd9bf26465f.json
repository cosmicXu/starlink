{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nexport function T() {\n  return true;\n} // Fix IE file.status problem\n// via coping a new Object\n\nexport function fileToObject(file) {\n  return _extends(_extends({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\n\nexport function genPercentAdd() {\n  var k = 0.1;\n  var i = 0.01;\n  var end = 0.98;\n  return function (s) {\n    var start = s;\n\n    if (start >= end) {\n      return start;\n    }\n\n    start += k;\n    k -= i;\n\n    if (k < 0.001) {\n      k = 0.001;\n    }\n\n    return start;\n  };\n}\nexport function getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nexport function removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n\n  if (removed.length === fileList.length) {\n    return null;\n  }\n\n  return removed;\n} // ==================== Default Image Preview ====================\n\nvar extname = function extname() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageFileType = function isImageFileType(type) {\n  return !!type && type.indexOf('image/') === 0;\n};\n\nexport var isImageUrl = function isImageUrl(file) {\n  if (isImageFileType(file.type)) {\n    return true;\n  }\n\n  var url = file.thumbUrl || file.url;\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(extension)) {\n    return true;\n  }\n\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\nvar MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(function (resolve) {\n    if (!isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n\n    var canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n    document.body.appendChild(canvas);\n    var ctx = canvas.getContext('2d');\n    var img = new Image();\n\n    img.onload = function () {\n      var width = img.width,\n          height = img.height;\n      var drawWidth = MEASURE_SIZE;\n      var drawHeight = MEASURE_SIZE;\n      var offsetX = 0;\n      var offsetY = 0;\n\n      if (width < height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      var dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      resolve(dataURL);\n    };\n\n    img.src = window.URL.createObjectURL(file);\n  });\n}","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","T","fileToObject","file","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","genPercentAdd","k","end","s","start","getFileItem","fileList","matchKey","undefined","filter","item","removeFileItem","removed","extname","url","temp","split","filename","filenameWithoutSuffix","exec","isImageFileType","indexOf","isImageUrl","thumbUrl","extension","test","MEASURE_SIZE","previewImage","Promise","resolve","canvas","document","createElement","width","height","style","cssText","concat","body","appendChild","ctx","getContext","img","Image","onload","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","removeChild","src","window","URL","createObjectURL"],"sources":["/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/antd/es/upload/utils.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nexport function T() {\n  return true;\n} // Fix IE file.status problem\n// via coping a new Object\n\nexport function fileToObject(file) {\n  return _extends(_extends({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\n\nexport function genPercentAdd() {\n  var k = 0.1;\n  var i = 0.01;\n  var end = 0.98;\n  return function (s) {\n    var start = s;\n\n    if (start >= end) {\n      return start;\n    }\n\n    start += k;\n    k -= i;\n\n    if (k < 0.001) {\n      k = 0.001;\n    }\n\n    return start;\n  };\n}\nexport function getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nexport function removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n\n  if (removed.length === fileList.length) {\n    return null;\n  }\n\n  return removed;\n} // ==================== Default Image Preview ====================\n\nvar extname = function extname() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageFileType = function isImageFileType(type) {\n  return !!type && type.indexOf('image/') === 0;\n};\n\nexport var isImageUrl = function isImageUrl(file) {\n  if (isImageFileType(file.type)) {\n    return true;\n  }\n\n  var url = file.thumbUrl || file.url;\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(extension)) {\n    return true;\n  }\n\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\nvar MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(function (resolve) {\n    if (!isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n\n    var canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n    document.body.appendChild(canvas);\n    var ctx = canvas.getContext('2d');\n    var img = new Image();\n\n    img.onload = function () {\n      var width = img.width,\n          height = img.height;\n      var drawWidth = MEASURE_SIZE;\n      var drawHeight = MEASURE_SIZE;\n      var offsetX = 0;\n      var offsetY = 0;\n\n      if (width < height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      var dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      resolve(dataURL);\n    };\n\n    img.src = window.URL.createObjectURL(file);\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}