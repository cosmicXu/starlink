{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport Animate from 'rc-animate';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\nimport childrenToArray from \"rc-util/es/Children/toArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport warning from 'warning';\nimport Option from './Option'; // Where el is the DOM element you'd like to test for visibility\n\nfunction isHidden(node) {\n  return !node || node.offsetParent === null;\n}\n\nimport SelectPropTypes from './PropTypes';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\n\nvar noop = function noop() {\n  return null;\n};\n\nfunction chaining() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    } // tslint:disable-next-line:prefer-for-of\n\n\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\n\nvar Select = /*#__PURE__*/function (_React$Component) {\n  _inherits(Select, _React$Component);\n\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    _this.inputRef = null;\n    _this.inputMirrorRef = null;\n    _this.topCtrlRef = null;\n    _this.selectTriggerRef = null;\n    _this.rootRef = null;\n    _this.selectionRef = null;\n    _this.dropdownContainer = null;\n    _this.blurTimer = null;\n    _this.focusTimer = null;\n    _this.comboboxTimer = null; // tslint:disable-next-line:variable-name\n\n    _this._focused = false; // tslint:disable-next-line:variable-name\n\n    _this._mouseDown = false; // tslint:disable-next-line:variable-name\n\n    _this._options = []; // tslint:disable-next-line:variable-name\n\n    _this._empty = false;\n\n    _this.onInputChange = function (event) {\n      var tokenSeparators = _this.props.tokenSeparators;\n      var val = event.target.value;\n\n      if (isMultipleOrTags(_this.props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = _this.getValueByInput(val);\n\n        if (nextValue !== undefined) {\n          _this.fireChange(nextValue);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        _this.setInputValue('', false);\n\n        return;\n      }\n\n      _this.setInputValue(val);\n\n      _this.setState({\n        open: true\n      });\n\n      if (isCombobox(_this.props)) {\n        _this.fireChange([val]);\n      }\n    };\n\n    _this.onDropdownVisibleChange = function (open) {\n      if (open && !_this._focused) {\n        _this.clearBlurTime();\n\n        _this.timeoutFocus();\n\n        _this._focused = true;\n\n        _this.updateFocusClassName();\n      }\n\n      _this.setOpenState(open);\n    }; // combobox ignore\n\n\n    _this.onKeyDown = function (event) {\n      var open = _this.state.open;\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n\n      if (open && !_this.getInputDOMNode()) {\n        _this.onInputKeyDown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        if (!open) {\n          _this.setOpenState(true);\n        }\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          _this.setOpenState(true);\n\n          event.preventDefault();\n        }\n      }\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          combobox = _this$props.combobox,\n          defaultActiveFirstOption = _this$props.defaultActiveFirstOption;\n\n      if (disabled) {\n        return;\n      }\n\n      var state = _this.state;\n\n      var isRealOpen = _this.getRealOpenState(state); // magic code\n\n\n      var keyCode = event.keyCode;\n\n      if (isMultipleOrTags(_this.props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state.value;\n\n        if (value.length) {\n          _this.removeSelected(value[value.length - 1]);\n        }\n\n        return;\n      }\n\n      if (keyCode === KeyCode.DOWN) {\n        if (!state.open) {\n          _this.openIfHasChildren();\n\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state.open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        } // Hard close popup to avoid lock of non option in combobox mode\n\n\n        if (isRealOpen && combobox && defaultActiveFirstOption === false) {\n          _this.comboboxTimer = setTimeout(function () {\n            _this.setOpenState(false);\n          });\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state.open) {\n          _this.setOpenState(false);\n\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        return;\n      }\n\n      if (isRealOpen && _this.selectTriggerRef) {\n        var menu = _this.selectTriggerRef.getInnerMenu();\n\n        if (menu && menu.onKeyDown(event, _this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    };\n\n    _this.onMenuSelect = function (_ref) {\n      var item = _ref.item;\n\n      if (!item) {\n        return;\n      }\n\n      var value = _this.state.value;\n      var props = _this.props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      var skipTrigger = false;\n\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          skipTrigger = true;\n        } else {\n          value = value.concat([selectedValue]);\n        }\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== _this.state.backfillValue) {\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n\n          skipTrigger = true;\n        } else {\n          value = [selectedValue];\n\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n        }\n      }\n\n      if (!skipTrigger) {\n        _this.fireChange(value);\n      }\n\n      _this.fireSelect(selectedValue);\n\n      if (!skipTrigger) {\n        var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n\n        if (props.autoClearSearchValue) {\n          _this.setInputValue(inputValue, false);\n        }\n      }\n    };\n\n    _this.onMenuDeselect = function (_ref2) {\n      var item = _ref2.item,\n          domEvent = _ref2.domEvent;\n\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        var menuItemDomNode = ReactDOM.findDOMNode(item); // https://github.com/ant-design/ant-design/issues/20465#issuecomment-569033796\n\n        if (!isHidden(menuItemDomNode)) {\n          _this.removeSelected(getValuePropValue(item));\n        }\n\n        return;\n      }\n\n      if (domEvent.type === 'click') {\n        _this.removeSelected(getValuePropValue(item));\n      }\n\n      var props = _this.props;\n\n      if (props.autoClearSearchValue) {\n        _this.setInputValue('');\n      }\n    };\n\n    _this.onArrowClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (!_this.props.disabled) {\n        _this.setOpenState(!_this.state.open, {\n          needFocus: !_this.state.open\n        });\n      }\n    };\n\n    _this.onPlaceholderClick = function () {\n      if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n        _this.getInputDOMNode().focus();\n      }\n    };\n\n    _this.onOuterFocus = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.clearBlurTime(); // In IE11, onOuterFocus will be trigger twice when focus input\n      // First one: e.target is div\n      // Second one: e.target is input\n      // other browser only trigger second one\n      // https://github.com/ant-design/ant-design/issues/15942\n      // Here we ignore the first one when e.target is div\n\n\n      var inputNode = _this.getInputDOMNode();\n\n      if (inputNode && e.target === _this.rootRef) {\n        return;\n      }\n\n      if (!isMultipleOrTagsOrCombobox(_this.props) && e.target === inputNode) {\n        return;\n      }\n\n      if (_this._focused) {\n        return;\n      }\n\n      _this._focused = true;\n\n      _this.updateFocusClassName(); // only effect multiple or tag mode\n\n\n      if (!isMultipleOrTags(_this.props) || !_this._mouseDown) {\n        _this.timeoutFocus();\n      }\n    };\n\n    _this.onPopupFocus = function () {\n      // fix ie scrollbar, focus element again\n      _this.maybeFocus(true, true);\n    };\n\n    _this.onOuterBlur = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.blurTimer = window.setTimeout(function () {\n        _this._focused = false;\n\n        _this.updateFocusClassName();\n\n        var props = _this.props;\n        var value = _this.state.value;\n        var inputValue = _this.state.inputValue;\n\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this._options || [];\n\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n\n              _this.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this._mouseDown) {\n            // need update dropmenu when not blur\n            _this.setInputValue('');\n          } else {\n            // why not use setState?\n            // https://github.com/ant-design/ant-design/issues/14262\n            _this.state.inputValue = '';\n\n            if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n              _this.getInputDOMNode().value = '';\n            }\n          }\n\n          var tmpValue = _this.getValueByInput(inputValue);\n\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n\n            _this.fireChange(value);\n          }\n        } // if click the rest space of Select in multiple mode\n\n\n        if (isMultipleOrTags(props) && _this._mouseDown) {\n          _this.maybeFocus(true, true);\n\n          _this._mouseDown = false;\n          return;\n        }\n\n        _this.setOpenState(false);\n\n        if (props.onBlur) {\n          props.onBlur(_this.getVLForOnChange(value));\n        }\n      }, 10);\n    };\n\n    _this.onClearSelection = function (event) {\n      var props = _this.props;\n      var state = _this.state;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var inputValue = state.inputValue;\n      var value = state.value;\n      event.stopPropagation();\n\n      if (inputValue || value.length) {\n        if (value.length) {\n          _this.fireChange([]);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        if (inputValue) {\n          _this.setInputValue('');\n        }\n      }\n    };\n\n    _this.onChoiceAnimationLeave = function () {\n      _this.forcePopupAlign();\n    };\n\n    _this.getOptionInfoBySingleValue = function (value, optionsInfo) {\n      var info;\n      optionsInfo = optionsInfo || _this.state.optionsInfo;\n\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n\n      if (info) {\n        return info;\n      }\n\n      var defaultLabel = value;\n\n      if (_this.props.labelInValue) {\n        var valueLabel = getLabelFromPropsValue(_this.props.value, value);\n        var defaultValueLabel = getLabelFromPropsValue(_this.props.defaultValue, value);\n\n        if (valueLabel !== undefined) {\n          defaultLabel = valueLabel;\n        } else if (defaultValueLabel !== undefined) {\n          defaultLabel = defaultValueLabel;\n        }\n      }\n\n      var defaultInfo = {\n        option: React.createElement(Option, {\n          value: value,\n          key: value\n        }, value),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    };\n\n    _this.getOptionBySingleValue = function (value) {\n      var _this$getOptionInfoBy = _this.getOptionInfoBySingleValue(value),\n          option = _this$getOptionInfoBy.option;\n\n      return option;\n    };\n\n    _this.getOptionsBySingleValue = function (values) {\n      return values.map(function (value) {\n        return _this.getOptionBySingleValue(value);\n      });\n    };\n\n    _this.getValueByLabel = function (label) {\n      if (label === undefined) {\n        return null;\n      }\n\n      var value = null;\n      Object.keys(_this.state.optionsInfo).forEach(function (key) {\n        var info = _this.state.optionsInfo[key];\n        var disabled = info.disabled;\n\n        if (disabled) {\n          return;\n        }\n\n        var oldLable = toArray(info.label);\n\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    };\n\n    _this.getVLBySingleValue = function (value) {\n      if (_this.props.labelInValue) {\n        return {\n          key: value,\n          label: _this.getLabelBySingleValue(value)\n        };\n      }\n\n      return value;\n    };\n\n    _this.getVLForOnChange = function (vlsS) {\n      var vls = vlsS;\n\n      if (vls !== undefined) {\n        if (!_this.props.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this.getLabelBySingleValue(vl)\n            };\n          });\n        }\n\n        return isMultipleOrTags(_this.props) ? vls : vls[0];\n      }\n\n      return vls;\n    };\n\n    _this.getLabelBySingleValue = function (value, optionsInfo) {\n      var _this$getOptionInfoBy2 = _this.getOptionInfoBySingleValue(value, optionsInfo),\n          label = _this$getOptionInfoBy2.label;\n\n      return label;\n    };\n\n    _this.getDropdownContainer = function () {\n      if (!_this.dropdownContainer) {\n        _this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(_this.dropdownContainer);\n      }\n\n      return _this.dropdownContainer;\n    };\n\n    _this.getPlaceholderElement = function () {\n      var props = _this.props;\n      var state = _this.state;\n      var hidden = false;\n\n      if (state.inputValue) {\n        hidden = true;\n      }\n\n      var value = state.value;\n\n      if (value.length) {\n        hidden = true;\n      }\n\n      if (isCombobox(props) && value.length === 1 && state.value && !state.value[0]) {\n        hidden = false;\n      }\n\n      var placeholder = props.placeholder;\n\n      if (placeholder) {\n        return React.createElement(\"div\", _extends({\n          onMouseDown: preventDefaultEvent,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE)\n        }, UNSELECTABLE_ATTRIBUTE, {\n          onClick: _this.onPlaceholderClick,\n          className: \"\".concat(props.prefixCls, \"-selection__placeholder\")\n        }), placeholder);\n      }\n\n      return null;\n    };\n\n    _this.getInputElement = function () {\n      var props = _this.props;\n      var defaultInput = React.createElement(\"input\", {\n        id: props.id,\n        autoComplete: \"off\"\n      }); // tslint:disable-next-line:typedef-whitespace\n\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(inputElement.props.className, _defineProperty({}, \"\".concat(props.prefixCls, \"-search__field\"), true)); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(props.prefixCls, \"-search__field__wrap\")\n      }, React.cloneElement(inputElement, {\n        ref: _this.saveInputRef,\n        onChange: _this.onInputChange,\n        onKeyDown: chaining(_this.onInputKeyDown, inputElement.props.onKeyDown, _this.props.onInputKeyDown),\n        value: _this.state.inputValue,\n        disabled: props.disabled,\n        className: inputCls\n      }), React.createElement(\"span\", {\n        ref: _this.saveInputMirrorRef,\n        className: \"\".concat(props.prefixCls, \"-search__field__mirror\")\n      }, _this.state.inputValue, \"\\xA0\"));\n    };\n\n    _this.getInputDOMNode = function () {\n      return _this.topCtrlRef ? _this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : _this.inputRef;\n    };\n\n    _this.getInputMirrorDOMNode = function () {\n      return _this.inputMirrorRef;\n    };\n\n    _this.getPopupDOMNode = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getPopupDOMNode();\n      }\n    };\n\n    _this.getPopupMenuComponent = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getInnerMenu();\n      }\n    };\n\n    _this.setOpenState = function (open) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var needFocus = config.needFocus,\n          fireSearch = config.fireSearch;\n      var props = _this.props;\n      var state = _this.state;\n\n      if (state.open === open) {\n        _this.maybeFocus(open, !!needFocus);\n\n        return;\n      }\n\n      if (_this.props.onDropdownVisibleChange) {\n        _this.props.onDropdownVisibleChange(open);\n      }\n\n      var nextState = {\n        open: open,\n        backfillValue: ''\n      }; // clear search input value when open is false in singleMode.\n      // https://github.com/ant-design/ant-design/issues/16572\n\n      if (!open && isSingleMode(props) && props.showSearch) {\n        _this.setInputValue('', fireSearch);\n      }\n\n      if (!open) {\n        _this.maybeFocus(open, !!needFocus);\n      }\n\n      _this.setState(_extends({\n        open: open\n      }, nextState), function () {\n        if (open) {\n          _this.maybeFocus(open, !!needFocus);\n        }\n      });\n    };\n\n    _this.setInputValue = function (inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onSearch = _this.props.onSearch;\n\n      if (inputValue !== _this.state.inputValue) {\n        _this.setState(function (prevState) {\n          // Additional check if `inputValue` changed in latest state.\n          if (fireSearch && inputValue !== prevState.inputValue && onSearch) {\n            onSearch(inputValue);\n          }\n\n          return {\n            inputValue: inputValue\n          };\n        }, _this.forcePopupAlign);\n      }\n    };\n\n    _this.getValueByInput = function (str) {\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          tokenSeparators = _this$props2.tokenSeparators;\n      var nextValue = _this.state.value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n\n        if (multiple) {\n          var value = _this.getValueByLabel(label);\n\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n\n            _this.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n\n          _this.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    };\n\n    _this.getRealOpenState = function (state) {\n      // tslint:disable-next-line:variable-name\n      var _open = _this.props.open;\n\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n\n      var open = (state || _this.state).open;\n      var options = _this._options || [];\n\n      if (isMultipleOrTagsOrCombobox(_this.props) || !_this.props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n\n      return open;\n    };\n\n    _this.markMouseDown = function () {\n      _this._mouseDown = true;\n    };\n\n    _this.markMouseLeave = function () {\n      _this._mouseDown = false;\n    };\n\n    _this.handleBackfill = function (item) {\n      if (!_this.props.backfill || !(isSingleMode(_this.props) || isCombobox(_this.props))) {\n        return;\n      }\n\n      var key = getValuePropValue(item);\n\n      if (isCombobox(_this.props)) {\n        _this.setInputValue(key, false);\n      }\n\n      _this.setState({\n        value: [key],\n        backfillValue: key\n      });\n    };\n\n    _this.filterOption = function (input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var value = _this.state.value;\n      var lastValue = value[value.length - 1];\n\n      if (!input || lastValue && lastValue === _this.state.backfillValue) {\n        return true;\n      }\n\n      var filterFn = _this.props.filterOption;\n\n      if ('filterOption' in _this.props) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n        }\n      } else {\n        filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n      }\n\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(_assertThisInitialized(_this), input, child);\n      } else if (child.props.disabled) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.timeoutFocus = function () {\n      var onFocus = _this.props.onFocus;\n\n      if (_this.focusTimer) {\n        _this.clearFocusTime();\n      }\n\n      _this.focusTimer = window.setTimeout(function () {\n        if (onFocus) {\n          onFocus();\n        }\n      }, 10);\n    };\n\n    _this.clearFocusTime = function () {\n      if (_this.focusTimer) {\n        clearTimeout(_this.focusTimer);\n        _this.focusTimer = null;\n      }\n    };\n\n    _this.clearBlurTime = function () {\n      if (_this.blurTimer) {\n        clearTimeout(_this.blurTimer);\n        _this.blurTimer = null;\n      }\n    };\n\n    _this.clearComboboxTime = function () {\n      if (_this.comboboxTimer) {\n        clearTimeout(_this.comboboxTimer);\n        _this.comboboxTimer = null;\n      }\n    };\n\n    _this.updateFocusClassName = function () {\n      var rootRef = _this.rootRef;\n      var props = _this.props; // avoid setState and its side effect\n\n      if (_this._focused) {\n        classes(rootRef).add(\"\".concat(props.prefixCls, \"-focused\"));\n      } else {\n        classes(rootRef).remove(\"\".concat(props.prefixCls, \"-focused\"));\n      }\n    };\n\n    _this.maybeFocus = function (open, needFocus) {\n      if (needFocus || open) {\n        var input = _this.getInputDOMNode();\n\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (input && (open || isMultipleOrTagsOrCombobox(_this.props))) {\n          if (activeElement !== input) {\n            input.focus();\n            _this._focused = true;\n          }\n        } else if (activeElement !== _this.selectionRef && _this.selectionRef) {\n          _this.selectionRef.focus();\n\n          _this._focused = true;\n        }\n      }\n    };\n\n    _this.removeSelected = function (selectedKey, e) {\n      var props = _this.props;\n\n      if (props.disabled || _this.isChildDisabled(selectedKey)) {\n        return;\n      } // Do not trigger Trigger popup\n\n\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n\n      var oldValue = _this.state.value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n\n      if (canMultiple) {\n        var event = selectedKey;\n\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: _this.getLabelBySingleValue(selectedKey)\n          };\n        }\n\n        if (props.onDeselect) {\n          props.onDeselect(event, _this.getOptionBySingleValue(selectedKey));\n        }\n      }\n\n      _this.fireChange(value);\n    };\n\n    _this.openIfHasChildren = function () {\n      var props = _this.props;\n\n      if (React.Children.count(props.children) || isSingleMode(props)) {\n        _this.setOpenState(true);\n      }\n    };\n\n    _this.fireSelect = function (value) {\n      if (_this.props.onSelect) {\n        _this.props.onSelect(_this.getVLBySingleValue(value), _this.getOptionBySingleValue(value));\n      }\n    };\n\n    _this.fireChange = function (value) {\n      var props = _this.props;\n\n      if (!('value' in props)) {\n        _this.setState({\n          value: value\n        }, _this.forcePopupAlign);\n      }\n\n      var vls = _this.getVLForOnChange(value);\n\n      var options = _this.getOptionsBySingleValue(value);\n\n      if (props.onChange) {\n        props.onChange(vls, isMultipleOrTags(_this.props) ? options : options[0]);\n      }\n    };\n\n    _this.isChildDisabled = function (key) {\n      return childrenToArray(_this.props.children).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && child.props && child.props.disabled;\n      });\n    };\n\n    _this.forcePopupAlign = function () {\n      if (!_this.state.open) {\n        return;\n      }\n\n      if (_this.selectTriggerRef && _this.selectTriggerRef.triggerRef) {\n        _this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    };\n\n    _this.renderFilterOptions = function () {\n      var inputValue = _this.state.inputValue;\n      var _this$props3 = _this.props,\n          children = _this$props3.children,\n          tags = _this$props3.tags,\n          notFoundContent = _this$props3.notFoundContent;\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n\n      var options = _this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n\n      if (tags) {\n        // tags value must be string\n        var value = _this.state.value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        }); // sort by length\n\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n          var menuItem = React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: key,\n            key: key\n          }, key);\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\n\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          options.unshift(React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: inputValue,\n            key: inputValue\n          }, inputValue));\n        }\n      }\n\n      if (!options.length && notFoundContent) {\n        empty = true;\n        options = [React.createElement(MenuItem, {\n          style: UNSELECTABLE_STYLE,\n          attribute: UNSELECTABLE_ATTRIBUTE,\n          disabled: true,\n          role: \"option\",\n          value: \"NOT_FOUND\",\n          key: \"NOT_FOUND\"\n        }, notFoundContent)];\n      }\n\n      return {\n        empty: empty,\n        options: options\n      };\n    };\n\n    _this.renderFilterOptionsFromChildren = function (children, childrenKeys, menuItems) {\n      var sel = [];\n      var props = _this.props;\n      var inputValue = _this.state.inputValue;\n      var tags = props.tags;\n      React.Children.forEach(children, function (child) {\n        if (!child) {\n          return;\n        }\n\n        var type = child.type;\n\n        if (type.isSelectOptGroup) {\n          var label = child.props.label;\n          var key = child.key;\n\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          } // Match option group label\n\n\n          if (inputValue && _this.filterOption(inputValue, child)) {\n            var innerItems = childrenToArray(child.props.children).map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return React.createElement(MenuItem, _extends({\n                key: childValueSub,\n                value: childValueSub\n              }, subChild.props));\n            });\n            sel.push(React.createElement(MenuItemGroup, {\n              key: key,\n              title: label\n            }, innerItems)); // Not match\n          } else {\n            var _innerItems = _this.renderFilterOptionsFromChildren(child.props.children, childrenKeys, menuItems);\n\n            if (_innerItems.length) {\n              sel.push(React.createElement(MenuItemGroup, {\n                key: key,\n                title: label\n              }, _innerItems));\n            }\n          }\n\n          return;\n        }\n\n        warning(type.isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + \"instead of `\".concat(type.name || type.displayName || child.type, \"`.\"));\n        var childValue = getValuePropValue(child);\n        validateOptionValue(childValue, _this.props);\n\n        if (_this.filterOption(inputValue, child)) {\n          var menuItem = React.createElement(MenuItem, _extends({\n            style: UNSELECTABLE_STYLE,\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: childValue,\n            key: childValue,\n            role: \"option\"\n          }, child.props));\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n      return sel;\n    };\n\n    _this.renderTopControlNode = function () {\n      var _this$state = _this.state,\n          open = _this$state.open,\n          inputValue = _this$state.inputValue;\n      var value = _this.state.value;\n      var props = _this.props;\n      var choiceTransitionName = props.choiceTransitionName,\n          prefixCls = props.prefixCls,\n          maxTagTextLength = props.maxTagTextLength,\n          maxTagCount = props.maxTagCount,\n          showSearch = props.showSearch,\n          removeIcon = props.removeIcon;\n      var maxTagPlaceholder = props.maxTagPlaceholder;\n      var className = \"\".concat(prefixCls, \"-selection__rendered\"); // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n\n      var innerNode = null;\n\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n\n          var singleValue = value[0];\n\n          var _this$getOptionInfoBy3 = _this.getOptionInfoBySingleValue(singleValue),\n              label = _this$getOptionInfoBy3.label,\n              title = _this$getOptionInfoBy3.title;\n\n          selectedValue = React.createElement(\"div\", {\n            key: \"value\",\n            className: \"\".concat(prefixCls, \"-selection-selected-value\"),\n            title: toTitle(title || label),\n            style: {\n              display: showSelectedValue ? 'block' : 'none',\n              opacity: opacity\n            }\n          }, label);\n        }\n\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n            key: \"input\",\n            style: {\n              display: open ? 'block' : 'none'\n            }\n          }, _this.getInputElement())];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl;\n\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n\n          var omittedValues = _this.getVLForOnChange(value.slice(maxTagCount, value.length));\n\n          var content = \"+ \".concat(value.length - maxTagCount, \" ...\");\n\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n\n          maxTagPlaceholderEl = React.createElement(\"li\", _extends({\n            style: UNSELECTABLE_STYLE\n          }, UNSELECTABLE_ATTRIBUTE, {\n            role: \"presentation\",\n            onMouseDown: preventDefaultEvent,\n            className: \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\"),\n            key: \"maxTagPlaceholder\",\n            title: toTitle(content)\n          }), React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-selection__choice__content\")\n          }, content));\n        }\n\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this.getOptionInfoBySingleValue(singleValue);\n\n            var content = info.label;\n            var title = info.title || content;\n\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = \"\".concat(content.slice(0, maxTagTextLength), \"...\");\n            }\n\n            var disabled = _this.isChildDisabled(singleValue);\n\n            var choiceClassName = disabled ? \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\") : \"\".concat(prefixCls, \"-selection__choice\");\n            return React.createElement(\"li\", _extends({\n              style: UNSELECTABLE_STYLE\n            }, UNSELECTABLE_ATTRIBUTE, {\n              onMouseDown: preventDefaultEvent,\n              className: choiceClassName,\n              role: \"presentation\",\n              key: singleValue || SELECT_EMPTY_VALUE_KEY,\n              title: toTitle(title)\n            }), React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__content\")\n            }, content), disabled ? null : React.createElement(\"span\", {\n              onClick: function onClick(event) {\n                _this.removeSelected(singleValue, event);\n              },\n              className: \"\".concat(prefixCls, \"-selection__choice__remove\")\n            }, removeIcon || React.createElement(\"i\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__remove-icon\")\n            }, \"\\xD7\")));\n          });\n        }\n\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n\n        selectedValueNodes.push(React.createElement(\"li\", {\n          className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n          key: \"__input\"\n        }, _this.getInputElement()));\n\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          innerNode = React.createElement(Animate, {\n            onLeave: _this.onChoiceAnimationLeave,\n            component: \"ul\",\n            transitionName: choiceTransitionName\n          }, selectedValueNodes);\n        } else {\n          innerNode = React.createElement(\"ul\", null, selectedValueNodes);\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: className,\n        ref: _this.saveTopCtrlRef\n      }, _this.getPlaceholderElement(), innerNode);\n    };\n\n    var optionsInfo = Select.getOptionsInfoFromProps(props);\n\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n\n    _this.state = {\n      value: Select.getValueFromProps(props, true),\n      inputValue: props.combobox ? Select.getInputValueForCombobox(props, optionsInfo, true) : '',\n      open: props.defaultOpen,\n      optionsInfo: optionsInfo,\n      backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      skipBuildOptionsInfo: true,\n      ariaId: ''\n    };\n    _this.saveInputRef = saveRef(_assertThisInitialized(_this), 'inputRef');\n    _this.saveInputMirrorRef = saveRef(_assertThisInitialized(_this), 'inputMirrorRef');\n    _this.saveTopCtrlRef = saveRef(_assertThisInitialized(_this), 'topCtrlRef');\n    _this.saveSelectTriggerRef = saveRef(_assertThisInitialized(_this), 'selectTriggerRef');\n    _this.saveRootRef = saveRef(_assertThisInitialized(_this), 'rootRef');\n    _this.saveSelectionRef = saveRef(_assertThisInitialized(_this), 'selectionRef');\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (this.props.autoFocus || this.state.open) {\n        this.focus();\n      }\n\n      this.setState({\n        ariaId: generateUUID()\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (isMultipleOrTags(this.props)) {\n        var inputNode = this.getInputDOMNode();\n        var mirrorNode = this.getInputMirrorDOMNode();\n\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = \"\".concat(mirrorNode.clientWidth, \"px\");\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n\n      this.forcePopupAlign();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearFocusTime();\n      this.clearBlurTime();\n      this.clearComboboxTime();\n\n      if (this.dropdownContainer) {\n        ReactDOM.unmountComponentAtNode(this.dropdownContainer);\n        document.body.removeChild(this.dropdownContainer);\n        this.dropdownContainer = null;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow(multiple) {\n      // showArrow : Set to true if not multiple by default but keep set value.\n      var _this$props4 = this.props,\n          _this$props4$showArro = _this$props4.showArrow,\n          showArrow = _this$props4$showArro === void 0 ? !multiple : _this$props4$showArro,\n          loading = _this$props4.loading,\n          inputIcon = _this$props4.inputIcon,\n          prefixCls = _this$props4.prefixCls;\n\n      if (!showArrow && !loading) {\n        return null;\n      } // if loading  have loading icon\n\n\n      var defaultIcon = loading ? React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-loading\")\n      }) : React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\n      });\n      return React.createElement(\"span\", _extends({\n        key: \"arrow\",\n        className: \"\".concat(prefixCls, \"-arrow\"),\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onArrowClick\n      }), inputIcon || defaultIcon);\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var _this$props5 = this.props,\n          prefixCls = _this$props5.prefixCls,\n          allowClear = _this$props5.allowClear,\n          clearIcon = _this$props5.clearIcon;\n      var inputValue = this.state.inputValue;\n      var value = this.state.value;\n      var clear = React.createElement(\"span\", _extends({\n        key: \"clear\",\n        className: \"\".concat(prefixCls, \"-selection__clear\"),\n        onMouseDown: preventDefaultEvent,\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onClearSelection\n      }), clearIcon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-selection__clear-icon\")\n      }, \"\\xD7\"));\n\n      if (!allowClear) {\n        return null;\n      }\n\n      if (isCombobox(this.props)) {\n        if (inputValue) {\n          return clear;\n        }\n\n        return null;\n      }\n\n      if (inputValue || value.length) {\n        return clear;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _rootCls;\n\n      var props = this.props;\n      var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n\n      var _props$showArrow = props.showArrow,\n          showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n      var state = this.state;\n      var className = props.className,\n          disabled = props.disabled,\n          prefixCls = props.prefixCls,\n          loading = props.loading;\n      var ctrlNode = this.renderTopControlNode();\n      var _this$state2 = this.state,\n          open = _this$state2.open,\n          ariaId = _this$state2.ariaId;\n\n      if (open) {\n        var filterOptions = this.renderFilterOptions();\n        this._empty = filterOptions.empty;\n        this._options = filterOptions.options;\n      }\n\n      var realOpen = this.getRealOpenState();\n      var empty = this._empty;\n      var options = this._options || [];\n      var dataOrAriaAttributeProps = {};\n      Object.keys(props).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(props, key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n          dataOrAriaAttributeProps[key] = props[key];\n        }\n      }); // for (const key in props) {\n      //   if (\n      //     Object.prototype.hasOwnProperty.call(props, key) &&\n      //     (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')\n      //   ) {\n      //     dataOrAriaAttributeProps[key] = props[key];\n      //   }\n      // }\n\n      var extraSelectionProps = _extends({}, dataOrAriaAttributeProps);\n\n      if (!isMultipleOrTagsOrCombobox(props)) {\n        extraSelectionProps = _extends(_extends({}, extraSelectionProps), {\n          onKeyDown: this.onKeyDown,\n          tabIndex: props.disabled ? -1 : props.tabIndex\n        });\n      }\n\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, 1), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-focused\"), open || !!this._focused), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-combobox\"), isCombobox(props)), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-enabled\"), !disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-allow-clear\"), !!props.allowClear), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-loading\"), !!loading), _rootCls);\n      return React.createElement(SelectTrigger, {\n        onPopupFocus: this.onPopupFocus,\n        onMouseEnter: this.props.onMouseEnter,\n        onMouseLeave: this.props.onMouseLeave,\n        dropdownAlign: props.dropdownAlign,\n        dropdownClassName: props.dropdownClassName,\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle,\n        transitionName: props.transitionName,\n        animation: props.animation,\n        prefixCls: props.prefixCls,\n        dropdownStyle: props.dropdownStyle,\n        combobox: props.combobox,\n        showSearch: props.showSearch,\n        options: options,\n        empty: empty,\n        multiple: multiple,\n        disabled: disabled,\n        visible: realOpen,\n        inputValue: state.inputValue,\n        value: state.value,\n        backfillValue: state.backfillValue,\n        firstActiveValue: props.firstActiveValue,\n        onDropdownVisibleChange: this.onDropdownVisibleChange,\n        getPopupContainer: props.getPopupContainer,\n        onMenuSelect: this.onMenuSelect,\n        onMenuDeselect: this.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        showAction: props.showAction,\n        ref: this.saveSelectTriggerRef,\n        menuItemSelectedIcon: props.menuItemSelectedIcon,\n        dropdownRender: props.dropdownRender,\n        ariaId: ariaId\n      }, React.createElement(\"div\", {\n        id: props.id,\n        style: props.style,\n        ref: this.saveRootRef,\n        onBlur: this.onOuterBlur,\n        onFocus: this.onOuterFocus,\n        className: classnames(rootCls),\n        onMouseDown: this.markMouseDown,\n        onMouseUp: this.markMouseLeave,\n        onMouseOut: this.markMouseLeave\n      }, React.createElement(\"div\", _extends({\n        ref: this.saveSelectionRef,\n        key: \"selection\",\n        className: \"\".concat(prefixCls, \"-selection\\n            \").concat(prefixCls, \"-selection--\").concat(multiple ? 'multiple' : 'single'),\n        role: \"combobox\",\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"true\",\n        \"aria-controls\": ariaId,\n        \"aria-expanded\": realOpen\n      }, extraSelectionProps), ctrlNode, this.renderClear(), this.renderArrow(!!multiple))));\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\nSelect.propTypes = SelectPropTypes;\nSelect.defaultProps = {\n  prefixCls: 'rc-select',\n  defaultOpen: false,\n  labelInValue: false,\n  defaultActiveFirstOption: true,\n  showSearch: true,\n  allowClear: false,\n  placeholder: '',\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onSelect: noop,\n  onSearch: noop,\n  onDeselect: noop,\n  onInputKeyDown: noop,\n  dropdownMatchSelectWidth: true,\n  dropdownStyle: {},\n  dropdownMenuStyle: {},\n  optionFilterProp: 'value',\n  optionLabelProp: 'value',\n  notFoundContent: 'Not Found',\n  backfill: false,\n  showAction: ['click'],\n  tokenSeparators: [],\n  autoClearSearchValue: true,\n  tabIndex: 0,\n  dropdownRender: function dropdownRender(menu) {\n    return menu;\n  }\n};\n\nSelect.getDerivedStateFromProps = function (nextProps, prevState) {\n  var optionsInfo = prevState.skipBuildOptionsInfo ? prevState.optionsInfo : Select.getOptionsInfoFromProps(nextProps, prevState);\n  var newState = {\n    optionsInfo: optionsInfo,\n    skipBuildOptionsInfo: false\n  };\n\n  if ('open' in nextProps) {\n    newState.open = nextProps.open;\n  }\n\n  if (nextProps.disabled && prevState.open) {\n    newState.open = false;\n  }\n\n  if ('value' in nextProps) {\n    var value = Select.getValueFromProps(nextProps);\n    newState.value = value;\n\n    if (nextProps.combobox) {\n      newState.inputValue = Select.getInputValueForCombobox(nextProps, optionsInfo);\n    }\n  }\n\n  return newState;\n};\n\nSelect.getOptionsFromChildren = function (children) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  React.Children.forEach(children, function (child) {\n    if (!child) {\n      return;\n    }\n\n    var type = child.type;\n\n    if (type.isSelectOptGroup) {\n      Select.getOptionsFromChildren(child.props.children, options);\n    } else {\n      options.push(child);\n    }\n  });\n  return options;\n};\n\nSelect.getInputValueForCombobox = function (props, optionsInfo, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (value.length) {\n    value = value[0];\n  } else {\n    return '';\n  }\n\n  var label = value;\n\n  if (props.labelInValue) {\n    label = value.label;\n  } else if (optionsInfo[getMapKey(value)]) {\n    label = optionsInfo[getMapKey(value)].label;\n  }\n\n  if (label === undefined) {\n    label = '';\n  }\n\n  return label;\n};\n\nSelect.getLabelFromOption = function (props, option) {\n  return getPropValue(option, props.optionLabelProp);\n};\n\nSelect.getOptionsInfoFromProps = function (props, preState) {\n  var options = Select.getOptionsFromChildren(props.children);\n  var optionsInfo = {};\n  options.forEach(function (option) {\n    var singleValue = getValuePropValue(option);\n    optionsInfo[getMapKey(singleValue)] = {\n      option: option,\n      value: singleValue,\n      label: Select.getLabelFromOption(props, option),\n      title: option.props.title,\n      disabled: option.props.disabled\n    };\n  });\n\n  if (preState) {\n    // keep option info in pre state value.\n    var oldOptionsInfo = preState.optionsInfo;\n    var value = preState.value;\n\n    if (value) {\n      value.forEach(function (v) {\n        var key = getMapKey(v);\n\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n          optionsInfo[key] = oldOptionsInfo[key];\n        }\n      });\n    }\n  }\n\n  return optionsInfo;\n};\n\nSelect.getValueFromProps = function (props, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (props.labelInValue) {\n    value = value.map(function (v) {\n      return v.key;\n    });\n  }\n\n  return value;\n};\n\nSelect.displayName = 'Select';\npolyfill(Select);\nexport default Select;","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","p","classnames","classes","Animate","Item","MenuItem","ItemGroup","MenuItemGroup","childrenToArray","KeyCode","React","ReactDOM","polyfill","warning","Option","isHidden","node","offsetParent","SelectPropTypes","SelectTrigger","defaultFilterFn","findFirstMenuItem","findIndexInValueBySingleValue","generateUUID","getLabelFromPropsValue","getMapKey","getPropValue","getValuePropValue","includesSeparators","isCombobox","isMultipleOrTags","isMultipleOrTagsOrCombobox","isSingleMode","preventDefaultEvent","saveRef","splitBySeparators","toArray","toTitle","UNSELECTABLE_ATTRIBUTE","UNSELECTABLE_STYLE","validateOptionValue","SELECT_EMPTY_VALUE_KEY","noop","chaining","_len","fns","Array","_key","_len2","args","_key2","Select","_React$Component","_this","inputRef","inputMirrorRef","topCtrlRef","selectTriggerRef","rootRef","selectionRef","dropdownContainer","blurTimer","focusTimer","comboboxTimer","_focused","_mouseDown","_options","_empty","onInputChange","event","tokenSeparators","val","nextValue","getValueByInput","undefined","fireChange","setOpenState","needFocus","setInputValue","setState","open","onDropdownVisibleChange","clearBlurTime","timeoutFocus","updateFocusClassName","onKeyDown","state","disabled","keyCode","getInputDOMNode","onInputKeyDown","ENTER","DOWN","preventDefault","SPACE","_this$props","combobox","defaultActiveFirstOption","isRealOpen","getRealOpenState","BACKSPACE","removeSelected","openIfHasChildren","stopPropagation","setTimeout","ESC","menu","getInnerMenu","handleBackfill","onMenuSelect","_ref","item","selectedValue","lastValue","skipTrigger","concat","backfillValue","fireSearch","fireSelect","inputValue","optionLabelProp","autoClearSearchValue","onMenuDeselect","_ref2","domEvent","type","menuItemDomNode","findDOMNode","onArrowClick","e","onPlaceholderClick","focus","onOuterFocus","inputNode","onPopupFocus","maybeFocus","onOuterBlur","window","showSearch","options","firstOption","tmpValue","onBlur","getVLForOnChange","onClearSelection","onChoiceAnimationLeave","forcePopupAlign","getOptionInfoBySingleValue","optionsInfo","info","defaultLabel","labelInValue","valueLabel","defaultValueLabel","defaultValue","defaultInfo","option","createElement","label","getOptionBySingleValue","_this$getOptionInfoBy","getOptionsBySingleValue","values","map","getValueByLabel","keys","forEach","oldLable","join","getVLBySingleValue","getLabelBySingleValue","vlsS","vls","v","vl","_this$getOptionInfoBy2","getDropdownContainer","document","body","appendChild","getPlaceholderElement","hidden","placeholder","onMouseDown","style","display","onClick","className","prefixCls","getInputElement","defaultInput","id","autoComplete","inputElement","inputCls","cloneElement","ref","saveInputRef","onChange","saveInputMirrorRef","querySelector","getInputMirrorDOMNode","getPopupDOMNode","getPopupMenuComponent","config","nextState","onSearch","prevState","str","_this$props2","multiple","hasNewValue","_open","markMouseDown","markMouseLeave","backfill","filterOption","input","child","defaultFilter","filterFn","bind","onFocus","clearFocusTime","clearTimeout","clearComboboxTime","add","remove","_document","activeElement","selectedKey","isChildDisabled","oldValue","filter","singleValue","canMultiple","onDeselect","Children","count","children","onSelect","some","childValue","triggerRef","renderFilterOptions","_this$props3","tags","notFoundContent","menuItems","childrenKeys","empty","renderFilterOptionsFromChildren","indexOf","String","sort","val1","val2","menuItem","role","attribute","push","every","unshift","sel","isSelectOptGroup","innerItems","subChild","childValueSub","title","_innerItems","isSelectOption","name","displayName","renderTopControlNode","_this$state","choiceTransitionName","maxTagTextLength","maxTagCount","removeIcon","maxTagPlaceholder","innerNode","showSelectedValue","opacity","_this$getOptionInfoBy3","selectedValueNodes","limitedCountValue","maxTagPlaceholderEl","slice","omittedValues","content","choiceClassName","onLeave","component","transitionName","saveTopCtrlRef","getOptionsInfoFromProps","isDisabledExist","getValueFromProps","getInputValueForCombobox","defaultOpen","skipBuildOptionsInfo","ariaId","saveSelectTriggerRef","saveRootRef","saveSelectionRef","componentDidMount","autoFocus","componentDidUpdate","mirrorNode","width","clientWidth","componentWillUnmount","unmountComponentAtNode","removeChild","blur","renderArrow","_this$props4","_this$props4$showArro","showArrow","loading","inputIcon","defaultIcon","renderClear","_this$props5","allowClear","clearIcon","clear","render","_rootCls","_props$showArrow","ctrlNode","_this$state2","filterOptions","realOpen","dataOrAriaAttributeProps","substr","extraSelectionProps","tabIndex","rootCls","onMouseEnter","onMouseLeave","dropdownAlign","dropdownClassName","dropdownMatchSelectWidth","dropdownMenuStyle","animation","dropdownStyle","visible","firstActiveValue","getPopupContainer","onPopupScroll","showAction","menuItemSelectedIcon","dropdownRender","onMouseUp","onMouseOut","Component","propTypes","defaultProps","optionFilterProp","getDerivedStateFromProps","nextProps","newState","getOptionsFromChildren","useDefaultValue","getLabelFromOption","preState","oldOptionsInfo"],"sources":["/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/rc-select/es/Select.js"],"sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport Animate from 'rc-animate';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\nimport childrenToArray from \"rc-util/es/Children/toArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport warning from 'warning';\nimport Option from './Option'; // Where el is the DOM element you'd like to test for visibility\n\nfunction isHidden(node) {\n  return !node || node.offsetParent === null;\n}\n\nimport SelectPropTypes from './PropTypes';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\n\nvar noop = function noop() {\n  return null;\n};\n\nfunction chaining() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\n\nvar Select =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Select, _React$Component);\n\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    _this.inputRef = null;\n    _this.inputMirrorRef = null;\n    _this.topCtrlRef = null;\n    _this.selectTriggerRef = null;\n    _this.rootRef = null;\n    _this.selectionRef = null;\n    _this.dropdownContainer = null;\n    _this.blurTimer = null;\n    _this.focusTimer = null;\n    _this.comboboxTimer = null; // tslint:disable-next-line:variable-name\n\n    _this._focused = false; // tslint:disable-next-line:variable-name\n\n    _this._mouseDown = false; // tslint:disable-next-line:variable-name\n\n    _this._options = []; // tslint:disable-next-line:variable-name\n\n    _this._empty = false;\n\n    _this.onInputChange = function (event) {\n      var tokenSeparators = _this.props.tokenSeparators;\n      var val = event.target.value;\n\n      if (isMultipleOrTags(_this.props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = _this.getValueByInput(val);\n\n        if (nextValue !== undefined) {\n          _this.fireChange(nextValue);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        _this.setInputValue('', false);\n\n        return;\n      }\n\n      _this.setInputValue(val);\n\n      _this.setState({\n        open: true\n      });\n\n      if (isCombobox(_this.props)) {\n        _this.fireChange([val]);\n      }\n    };\n\n    _this.onDropdownVisibleChange = function (open) {\n      if (open && !_this._focused) {\n        _this.clearBlurTime();\n\n        _this.timeoutFocus();\n\n        _this._focused = true;\n\n        _this.updateFocusClassName();\n      }\n\n      _this.setOpenState(open);\n    }; // combobox ignore\n\n\n    _this.onKeyDown = function (event) {\n      var open = _this.state.open;\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n\n      if (open && !_this.getInputDOMNode()) {\n        _this.onInputKeyDown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        if (!open) {\n          _this.setOpenState(true);\n        }\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          _this.setOpenState(true);\n\n          event.preventDefault();\n        }\n      }\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          combobox = _this$props.combobox,\n          defaultActiveFirstOption = _this$props.defaultActiveFirstOption;\n\n      if (disabled) {\n        return;\n      }\n\n      var state = _this.state;\n\n      var isRealOpen = _this.getRealOpenState(state); // magic code\n\n\n      var keyCode = event.keyCode;\n\n      if (isMultipleOrTags(_this.props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state.value;\n\n        if (value.length) {\n          _this.removeSelected(value[value.length - 1]);\n        }\n\n        return;\n      }\n\n      if (keyCode === KeyCode.DOWN) {\n        if (!state.open) {\n          _this.openIfHasChildren();\n\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state.open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        } // Hard close popup to avoid lock of non option in combobox mode\n\n\n        if (isRealOpen && combobox && defaultActiveFirstOption === false) {\n          _this.comboboxTimer = setTimeout(function () {\n            _this.setOpenState(false);\n          });\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state.open) {\n          _this.setOpenState(false);\n\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        return;\n      }\n\n      if (isRealOpen && _this.selectTriggerRef) {\n        var menu = _this.selectTriggerRef.getInnerMenu();\n\n        if (menu && menu.onKeyDown(event, _this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    };\n\n    _this.onMenuSelect = function (_ref) {\n      var item = _ref.item;\n\n      if (!item) {\n        return;\n      }\n\n      var value = _this.state.value;\n      var props = _this.props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      var skipTrigger = false;\n\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          skipTrigger = true;\n        } else {\n          value = value.concat([selectedValue]);\n        }\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== _this.state.backfillValue) {\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n\n          skipTrigger = true;\n        } else {\n          value = [selectedValue];\n\n          _this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n        }\n      }\n\n      if (!skipTrigger) {\n        _this.fireChange(value);\n      }\n\n      _this.fireSelect(selectedValue);\n\n      if (!skipTrigger) {\n        var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n\n        if (props.autoClearSearchValue) {\n          _this.setInputValue(inputValue, false);\n        }\n      }\n    };\n\n    _this.onMenuDeselect = function (_ref2) {\n      var item = _ref2.item,\n          domEvent = _ref2.domEvent;\n\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        var menuItemDomNode = ReactDOM.findDOMNode(item); // https://github.com/ant-design/ant-design/issues/20465#issuecomment-569033796\n\n        if (!isHidden(menuItemDomNode)) {\n          _this.removeSelected(getValuePropValue(item));\n        }\n\n        return;\n      }\n\n      if (domEvent.type === 'click') {\n        _this.removeSelected(getValuePropValue(item));\n      }\n\n      var props = _this.props;\n\n      if (props.autoClearSearchValue) {\n        _this.setInputValue('');\n      }\n    };\n\n    _this.onArrowClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (!_this.props.disabled) {\n        _this.setOpenState(!_this.state.open, {\n          needFocus: !_this.state.open\n        });\n      }\n    };\n\n    _this.onPlaceholderClick = function () {\n      if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n        _this.getInputDOMNode().focus();\n      }\n    };\n\n    _this.onOuterFocus = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.clearBlurTime(); // In IE11, onOuterFocus will be trigger twice when focus input\n      // First one: e.target is div\n      // Second one: e.target is input\n      // other browser only trigger second one\n      // https://github.com/ant-design/ant-design/issues/15942\n      // Here we ignore the first one when e.target is div\n\n\n      var inputNode = _this.getInputDOMNode();\n\n      if (inputNode && e.target === _this.rootRef) {\n        return;\n      }\n\n      if (!isMultipleOrTagsOrCombobox(_this.props) && e.target === inputNode) {\n        return;\n      }\n\n      if (_this._focused) {\n        return;\n      }\n\n      _this._focused = true;\n\n      _this.updateFocusClassName(); // only effect multiple or tag mode\n\n\n      if (!isMultipleOrTags(_this.props) || !_this._mouseDown) {\n        _this.timeoutFocus();\n      }\n    };\n\n    _this.onPopupFocus = function () {\n      // fix ie scrollbar, focus element again\n      _this.maybeFocus(true, true);\n    };\n\n    _this.onOuterBlur = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _this.blurTimer = window.setTimeout(function () {\n        _this._focused = false;\n\n        _this.updateFocusClassName();\n\n        var props = _this.props;\n        var value = _this.state.value;\n        var inputValue = _this.state.inputValue;\n\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this._options || [];\n\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n\n              _this.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this._mouseDown) {\n            // need update dropmenu when not blur\n            _this.setInputValue('');\n          } else {\n            // why not use setState?\n            // https://github.com/ant-design/ant-design/issues/14262\n            _this.state.inputValue = '';\n\n            if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n              _this.getInputDOMNode().value = '';\n            }\n          }\n\n          var tmpValue = _this.getValueByInput(inputValue);\n\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n\n            _this.fireChange(value);\n          }\n        } // if click the rest space of Select in multiple mode\n\n\n        if (isMultipleOrTags(props) && _this._mouseDown) {\n          _this.maybeFocus(true, true);\n\n          _this._mouseDown = false;\n          return;\n        }\n\n        _this.setOpenState(false);\n\n        if (props.onBlur) {\n          props.onBlur(_this.getVLForOnChange(value));\n        }\n      }, 10);\n    };\n\n    _this.onClearSelection = function (event) {\n      var props = _this.props;\n      var state = _this.state;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var inputValue = state.inputValue;\n      var value = state.value;\n      event.stopPropagation();\n\n      if (inputValue || value.length) {\n        if (value.length) {\n          _this.fireChange([]);\n        }\n\n        _this.setOpenState(false, {\n          needFocus: true\n        });\n\n        if (inputValue) {\n          _this.setInputValue('');\n        }\n      }\n    };\n\n    _this.onChoiceAnimationLeave = function () {\n      _this.forcePopupAlign();\n    };\n\n    _this.getOptionInfoBySingleValue = function (value, optionsInfo) {\n      var info;\n      optionsInfo = optionsInfo || _this.state.optionsInfo;\n\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n\n      if (info) {\n        return info;\n      }\n\n      var defaultLabel = value;\n\n      if (_this.props.labelInValue) {\n        var valueLabel = getLabelFromPropsValue(_this.props.value, value);\n        var defaultValueLabel = getLabelFromPropsValue(_this.props.defaultValue, value);\n\n        if (valueLabel !== undefined) {\n          defaultLabel = valueLabel;\n        } else if (defaultValueLabel !== undefined) {\n          defaultLabel = defaultValueLabel;\n        }\n      }\n\n      var defaultInfo = {\n        option: React.createElement(Option, {\n          value: value,\n          key: value\n        }, value),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    };\n\n    _this.getOptionBySingleValue = function (value) {\n      var _this$getOptionInfoBy = _this.getOptionInfoBySingleValue(value),\n          option = _this$getOptionInfoBy.option;\n\n      return option;\n    };\n\n    _this.getOptionsBySingleValue = function (values) {\n      return values.map(function (value) {\n        return _this.getOptionBySingleValue(value);\n      });\n    };\n\n    _this.getValueByLabel = function (label) {\n      if (label === undefined) {\n        return null;\n      }\n\n      var value = null;\n      Object.keys(_this.state.optionsInfo).forEach(function (key) {\n        var info = _this.state.optionsInfo[key];\n        var disabled = info.disabled;\n\n        if (disabled) {\n          return;\n        }\n\n        var oldLable = toArray(info.label);\n\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    };\n\n    _this.getVLBySingleValue = function (value) {\n      if (_this.props.labelInValue) {\n        return {\n          key: value,\n          label: _this.getLabelBySingleValue(value)\n        };\n      }\n\n      return value;\n    };\n\n    _this.getVLForOnChange = function (vlsS) {\n      var vls = vlsS;\n\n      if (vls !== undefined) {\n        if (!_this.props.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this.getLabelBySingleValue(vl)\n            };\n          });\n        }\n\n        return isMultipleOrTags(_this.props) ? vls : vls[0];\n      }\n\n      return vls;\n    };\n\n    _this.getLabelBySingleValue = function (value, optionsInfo) {\n      var _this$getOptionInfoBy2 = _this.getOptionInfoBySingleValue(value, optionsInfo),\n          label = _this$getOptionInfoBy2.label;\n\n      return label;\n    };\n\n    _this.getDropdownContainer = function () {\n      if (!_this.dropdownContainer) {\n        _this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(_this.dropdownContainer);\n      }\n\n      return _this.dropdownContainer;\n    };\n\n    _this.getPlaceholderElement = function () {\n      var props = _this.props;\n      var state = _this.state;\n      var hidden = false;\n\n      if (state.inputValue) {\n        hidden = true;\n      }\n\n      var value = state.value;\n\n      if (value.length) {\n        hidden = true;\n      }\n\n      if (isCombobox(props) && value.length === 1 && state.value && !state.value[0]) {\n        hidden = false;\n      }\n\n      var placeholder = props.placeholder;\n\n      if (placeholder) {\n        return React.createElement(\"div\", _extends({\n          onMouseDown: preventDefaultEvent,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE)\n        }, UNSELECTABLE_ATTRIBUTE, {\n          onClick: _this.onPlaceholderClick,\n          className: \"\".concat(props.prefixCls, \"-selection__placeholder\")\n        }), placeholder);\n      }\n\n      return null;\n    };\n\n    _this.getInputElement = function () {\n      var props = _this.props;\n      var defaultInput = React.createElement(\"input\", {\n        id: props.id,\n        autoComplete: \"off\"\n      }); // tslint:disable-next-line:typedef-whitespace\n\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(inputElement.props.className, _defineProperty({}, \"\".concat(props.prefixCls, \"-search__field\"), true)); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(props.prefixCls, \"-search__field__wrap\")\n      }, React.cloneElement(inputElement, {\n        ref: _this.saveInputRef,\n        onChange: _this.onInputChange,\n        onKeyDown: chaining(_this.onInputKeyDown, inputElement.props.onKeyDown, _this.props.onInputKeyDown),\n        value: _this.state.inputValue,\n        disabled: props.disabled,\n        className: inputCls\n      }), React.createElement(\"span\", {\n        ref: _this.saveInputMirrorRef,\n        className: \"\".concat(props.prefixCls, \"-search__field__mirror\")\n      }, _this.state.inputValue, \"\\xA0\"));\n    };\n\n    _this.getInputDOMNode = function () {\n      return _this.topCtrlRef ? _this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : _this.inputRef;\n    };\n\n    _this.getInputMirrorDOMNode = function () {\n      return _this.inputMirrorRef;\n    };\n\n    _this.getPopupDOMNode = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getPopupDOMNode();\n      }\n    };\n\n    _this.getPopupMenuComponent = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getInnerMenu();\n      }\n    };\n\n    _this.setOpenState = function (open) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var needFocus = config.needFocus,\n          fireSearch = config.fireSearch;\n      var props = _this.props;\n      var state = _this.state;\n\n      if (state.open === open) {\n        _this.maybeFocus(open, !!needFocus);\n\n        return;\n      }\n\n      if (_this.props.onDropdownVisibleChange) {\n        _this.props.onDropdownVisibleChange(open);\n      }\n\n      var nextState = {\n        open: open,\n        backfillValue: ''\n      }; // clear search input value when open is false in singleMode.\n      // https://github.com/ant-design/ant-design/issues/16572\n\n      if (!open && isSingleMode(props) && props.showSearch) {\n        _this.setInputValue('', fireSearch);\n      }\n\n      if (!open) {\n        _this.maybeFocus(open, !!needFocus);\n      }\n\n      _this.setState(_extends({\n        open: open\n      }, nextState), function () {\n        if (open) {\n          _this.maybeFocus(open, !!needFocus);\n        }\n      });\n    };\n\n    _this.setInputValue = function (inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onSearch = _this.props.onSearch;\n\n      if (inputValue !== _this.state.inputValue) {\n        _this.setState(function (prevState) {\n          // Additional check if `inputValue` changed in latest state.\n          if (fireSearch && inputValue !== prevState.inputValue && onSearch) {\n            onSearch(inputValue);\n          }\n\n          return {\n            inputValue: inputValue\n          };\n        }, _this.forcePopupAlign);\n      }\n    };\n\n    _this.getValueByInput = function (str) {\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          tokenSeparators = _this$props2.tokenSeparators;\n      var nextValue = _this.state.value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n\n        if (multiple) {\n          var value = _this.getValueByLabel(label);\n\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n\n            _this.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n\n          _this.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    };\n\n    _this.getRealOpenState = function (state) {\n      // tslint:disable-next-line:variable-name\n      var _open = _this.props.open;\n\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n\n      var open = (state || _this.state).open;\n      var options = _this._options || [];\n\n      if (isMultipleOrTagsOrCombobox(_this.props) || !_this.props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n\n      return open;\n    };\n\n    _this.markMouseDown = function () {\n      _this._mouseDown = true;\n    };\n\n    _this.markMouseLeave = function () {\n      _this._mouseDown = false;\n    };\n\n    _this.handleBackfill = function (item) {\n      if (!_this.props.backfill || !(isSingleMode(_this.props) || isCombobox(_this.props))) {\n        return;\n      }\n\n      var key = getValuePropValue(item);\n\n      if (isCombobox(_this.props)) {\n        _this.setInputValue(key, false);\n      }\n\n      _this.setState({\n        value: [key],\n        backfillValue: key\n      });\n    };\n\n    _this.filterOption = function (input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var value = _this.state.value;\n      var lastValue = value[value.length - 1];\n\n      if (!input || lastValue && lastValue === _this.state.backfillValue) {\n        return true;\n      }\n\n      var filterFn = _this.props.filterOption;\n\n      if ('filterOption' in _this.props) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n        }\n      } else {\n        filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n      }\n\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(_assertThisInitialized(_this), input, child);\n      } else if (child.props.disabled) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.timeoutFocus = function () {\n      var onFocus = _this.props.onFocus;\n\n      if (_this.focusTimer) {\n        _this.clearFocusTime();\n      }\n\n      _this.focusTimer = window.setTimeout(function () {\n        if (onFocus) {\n          onFocus();\n        }\n      }, 10);\n    };\n\n    _this.clearFocusTime = function () {\n      if (_this.focusTimer) {\n        clearTimeout(_this.focusTimer);\n        _this.focusTimer = null;\n      }\n    };\n\n    _this.clearBlurTime = function () {\n      if (_this.blurTimer) {\n        clearTimeout(_this.blurTimer);\n        _this.blurTimer = null;\n      }\n    };\n\n    _this.clearComboboxTime = function () {\n      if (_this.comboboxTimer) {\n        clearTimeout(_this.comboboxTimer);\n        _this.comboboxTimer = null;\n      }\n    };\n\n    _this.updateFocusClassName = function () {\n      var rootRef = _this.rootRef;\n      var props = _this.props; // avoid setState and its side effect\n\n      if (_this._focused) {\n        classes(rootRef).add(\"\".concat(props.prefixCls, \"-focused\"));\n      } else {\n        classes(rootRef).remove(\"\".concat(props.prefixCls, \"-focused\"));\n      }\n    };\n\n    _this.maybeFocus = function (open, needFocus) {\n      if (needFocus || open) {\n        var input = _this.getInputDOMNode();\n\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (input && (open || isMultipleOrTagsOrCombobox(_this.props))) {\n          if (activeElement !== input) {\n            input.focus();\n            _this._focused = true;\n          }\n        } else if (activeElement !== _this.selectionRef && _this.selectionRef) {\n          _this.selectionRef.focus();\n\n          _this._focused = true;\n        }\n      }\n    };\n\n    _this.removeSelected = function (selectedKey, e) {\n      var props = _this.props;\n\n      if (props.disabled || _this.isChildDisabled(selectedKey)) {\n        return;\n      } // Do not trigger Trigger popup\n\n\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n\n      var oldValue = _this.state.value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n\n      if (canMultiple) {\n        var event = selectedKey;\n\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: _this.getLabelBySingleValue(selectedKey)\n          };\n        }\n\n        if (props.onDeselect) {\n          props.onDeselect(event, _this.getOptionBySingleValue(selectedKey));\n        }\n      }\n\n      _this.fireChange(value);\n    };\n\n    _this.openIfHasChildren = function () {\n      var props = _this.props;\n\n      if (React.Children.count(props.children) || isSingleMode(props)) {\n        _this.setOpenState(true);\n      }\n    };\n\n    _this.fireSelect = function (value) {\n      if (_this.props.onSelect) {\n        _this.props.onSelect(_this.getVLBySingleValue(value), _this.getOptionBySingleValue(value));\n      }\n    };\n\n    _this.fireChange = function (value) {\n      var props = _this.props;\n\n      if (!('value' in props)) {\n        _this.setState({\n          value: value\n        }, _this.forcePopupAlign);\n      }\n\n      var vls = _this.getVLForOnChange(value);\n\n      var options = _this.getOptionsBySingleValue(value);\n\n      if (props.onChange) {\n        props.onChange(vls, isMultipleOrTags(_this.props) ? options : options[0]);\n      }\n    };\n\n    _this.isChildDisabled = function (key) {\n      return childrenToArray(_this.props.children).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && child.props && child.props.disabled;\n      });\n    };\n\n    _this.forcePopupAlign = function () {\n      if (!_this.state.open) {\n        return;\n      }\n\n      if (_this.selectTriggerRef && _this.selectTriggerRef.triggerRef) {\n        _this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    };\n\n    _this.renderFilterOptions = function () {\n      var inputValue = _this.state.inputValue;\n      var _this$props3 = _this.props,\n          children = _this$props3.children,\n          tags = _this$props3.tags,\n          notFoundContent = _this$props3.notFoundContent;\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n\n      var options = _this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n\n      if (tags) {\n        // tags value must be string\n        var value = _this.state.value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        }); // sort by length\n\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n          var menuItem = React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: key,\n            key: key\n          }, key);\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\n\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          options.unshift(React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: inputValue,\n            key: inputValue\n          }, inputValue));\n        }\n      }\n\n      if (!options.length && notFoundContent) {\n        empty = true;\n        options = [React.createElement(MenuItem, {\n          style: UNSELECTABLE_STYLE,\n          attribute: UNSELECTABLE_ATTRIBUTE,\n          disabled: true,\n          role: \"option\",\n          value: \"NOT_FOUND\",\n          key: \"NOT_FOUND\"\n        }, notFoundContent)];\n      }\n\n      return {\n        empty: empty,\n        options: options\n      };\n    };\n\n    _this.renderFilterOptionsFromChildren = function (children, childrenKeys, menuItems) {\n      var sel = [];\n      var props = _this.props;\n      var inputValue = _this.state.inputValue;\n      var tags = props.tags;\n      React.Children.forEach(children, function (child) {\n        if (!child) {\n          return;\n        }\n\n        var type = child.type;\n\n        if (type.isSelectOptGroup) {\n          var label = child.props.label;\n          var key = child.key;\n\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          } // Match option group label\n\n\n          if (inputValue && _this.filterOption(inputValue, child)) {\n            var innerItems = childrenToArray(child.props.children).map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return React.createElement(MenuItem, _extends({\n                key: childValueSub,\n                value: childValueSub\n              }, subChild.props));\n            });\n            sel.push(React.createElement(MenuItemGroup, {\n              key: key,\n              title: label\n            }, innerItems)); // Not match\n          } else {\n            var _innerItems = _this.renderFilterOptionsFromChildren(child.props.children, childrenKeys, menuItems);\n\n            if (_innerItems.length) {\n              sel.push(React.createElement(MenuItemGroup, {\n                key: key,\n                title: label\n              }, _innerItems));\n            }\n          }\n\n          return;\n        }\n\n        warning(type.isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + \"instead of `\".concat(type.name || type.displayName || child.type, \"`.\"));\n        var childValue = getValuePropValue(child);\n        validateOptionValue(childValue, _this.props);\n\n        if (_this.filterOption(inputValue, child)) {\n          var menuItem = React.createElement(MenuItem, _extends({\n            style: UNSELECTABLE_STYLE,\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: childValue,\n            key: childValue,\n            role: \"option\"\n          }, child.props));\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n      return sel;\n    };\n\n    _this.renderTopControlNode = function () {\n      var _this$state = _this.state,\n          open = _this$state.open,\n          inputValue = _this$state.inputValue;\n      var value = _this.state.value;\n      var props = _this.props;\n      var choiceTransitionName = props.choiceTransitionName,\n          prefixCls = props.prefixCls,\n          maxTagTextLength = props.maxTagTextLength,\n          maxTagCount = props.maxTagCount,\n          showSearch = props.showSearch,\n          removeIcon = props.removeIcon;\n      var maxTagPlaceholder = props.maxTagPlaceholder;\n      var className = \"\".concat(prefixCls, \"-selection__rendered\"); // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n\n      var innerNode = null;\n\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n\n          var singleValue = value[0];\n\n          var _this$getOptionInfoBy3 = _this.getOptionInfoBySingleValue(singleValue),\n              label = _this$getOptionInfoBy3.label,\n              title = _this$getOptionInfoBy3.title;\n\n          selectedValue = React.createElement(\"div\", {\n            key: \"value\",\n            className: \"\".concat(prefixCls, \"-selection-selected-value\"),\n            title: toTitle(title || label),\n            style: {\n              display: showSelectedValue ? 'block' : 'none',\n              opacity: opacity\n            }\n          }, label);\n        }\n\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n            key: \"input\",\n            style: {\n              display: open ? 'block' : 'none'\n            }\n          }, _this.getInputElement())];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl;\n\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n\n          var omittedValues = _this.getVLForOnChange(value.slice(maxTagCount, value.length));\n\n          var content = \"+ \".concat(value.length - maxTagCount, \" ...\");\n\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n\n          maxTagPlaceholderEl = React.createElement(\"li\", _extends({\n            style: UNSELECTABLE_STYLE\n          }, UNSELECTABLE_ATTRIBUTE, {\n            role: \"presentation\",\n            onMouseDown: preventDefaultEvent,\n            className: \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\"),\n            key: \"maxTagPlaceholder\",\n            title: toTitle(content)\n          }), React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-selection__choice__content\")\n          }, content));\n        }\n\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this.getOptionInfoBySingleValue(singleValue);\n\n            var content = info.label;\n            var title = info.title || content;\n\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = \"\".concat(content.slice(0, maxTagTextLength), \"...\");\n            }\n\n            var disabled = _this.isChildDisabled(singleValue);\n\n            var choiceClassName = disabled ? \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\") : \"\".concat(prefixCls, \"-selection__choice\");\n            return React.createElement(\"li\", _extends({\n              style: UNSELECTABLE_STYLE\n            }, UNSELECTABLE_ATTRIBUTE, {\n              onMouseDown: preventDefaultEvent,\n              className: choiceClassName,\n              role: \"presentation\",\n              key: singleValue || SELECT_EMPTY_VALUE_KEY,\n              title: toTitle(title)\n            }), React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__content\")\n            }, content), disabled ? null : React.createElement(\"span\", {\n              onClick: function onClick(event) {\n                _this.removeSelected(singleValue, event);\n              },\n              className: \"\".concat(prefixCls, \"-selection__choice__remove\")\n            }, removeIcon || React.createElement(\"i\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__remove-icon\")\n            }, \"\\xD7\")));\n          });\n        }\n\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n\n        selectedValueNodes.push(React.createElement(\"li\", {\n          className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n          key: \"__input\"\n        }, _this.getInputElement()));\n\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          innerNode = React.createElement(Animate, {\n            onLeave: _this.onChoiceAnimationLeave,\n            component: \"ul\",\n            transitionName: choiceTransitionName\n          }, selectedValueNodes);\n        } else {\n          innerNode = React.createElement(\"ul\", null, selectedValueNodes);\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: className,\n        ref: _this.saveTopCtrlRef\n      }, _this.getPlaceholderElement(), innerNode);\n    };\n\n    var optionsInfo = Select.getOptionsInfoFromProps(props);\n\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n\n    _this.state = {\n      value: Select.getValueFromProps(props, true),\n      inputValue: props.combobox ? Select.getInputValueForCombobox(props, optionsInfo, true) : '',\n      open: props.defaultOpen,\n      optionsInfo: optionsInfo,\n      backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      skipBuildOptionsInfo: true,\n      ariaId: ''\n    };\n    _this.saveInputRef = saveRef(_assertThisInitialized(_this), 'inputRef');\n    _this.saveInputMirrorRef = saveRef(_assertThisInitialized(_this), 'inputMirrorRef');\n    _this.saveTopCtrlRef = saveRef(_assertThisInitialized(_this), 'topCtrlRef');\n    _this.saveSelectTriggerRef = saveRef(_assertThisInitialized(_this), 'selectTriggerRef');\n    _this.saveRootRef = saveRef(_assertThisInitialized(_this), 'rootRef');\n    _this.saveSelectionRef = saveRef(_assertThisInitialized(_this), 'selectionRef');\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (this.props.autoFocus || this.state.open) {\n        this.focus();\n      }\n\n      this.setState({\n        ariaId: generateUUID()\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (isMultipleOrTags(this.props)) {\n        var inputNode = this.getInputDOMNode();\n        var mirrorNode = this.getInputMirrorDOMNode();\n\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = \"\".concat(mirrorNode.clientWidth, \"px\");\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n\n      this.forcePopupAlign();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearFocusTime();\n      this.clearBlurTime();\n      this.clearComboboxTime();\n\n      if (this.dropdownContainer) {\n        ReactDOM.unmountComponentAtNode(this.dropdownContainer);\n        document.body.removeChild(this.dropdownContainer);\n        this.dropdownContainer = null;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow(multiple) {\n      // showArrow : Set to true if not multiple by default but keep set value.\n      var _this$props4 = this.props,\n          _this$props4$showArro = _this$props4.showArrow,\n          showArrow = _this$props4$showArro === void 0 ? !multiple : _this$props4$showArro,\n          loading = _this$props4.loading,\n          inputIcon = _this$props4.inputIcon,\n          prefixCls = _this$props4.prefixCls;\n\n      if (!showArrow && !loading) {\n        return null;\n      } // if loading  have loading icon\n\n\n      var defaultIcon = loading ? React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-loading\")\n      }) : React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\n      });\n      return React.createElement(\"span\", _extends({\n        key: \"arrow\",\n        className: \"\".concat(prefixCls, \"-arrow\"),\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onArrowClick\n      }), inputIcon || defaultIcon);\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var _this$props5 = this.props,\n          prefixCls = _this$props5.prefixCls,\n          allowClear = _this$props5.allowClear,\n          clearIcon = _this$props5.clearIcon;\n      var inputValue = this.state.inputValue;\n      var value = this.state.value;\n      var clear = React.createElement(\"span\", _extends({\n        key: \"clear\",\n        className: \"\".concat(prefixCls, \"-selection__clear\"),\n        onMouseDown: preventDefaultEvent,\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onClearSelection\n      }), clearIcon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-selection__clear-icon\")\n      }, \"\\xD7\"));\n\n      if (!allowClear) {\n        return null;\n      }\n\n      if (isCombobox(this.props)) {\n        if (inputValue) {\n          return clear;\n        }\n\n        return null;\n      }\n\n      if (inputValue || value.length) {\n        return clear;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _rootCls;\n\n      var props = this.props;\n      var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n\n      var _props$showArrow = props.showArrow,\n          showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n      var state = this.state;\n      var className = props.className,\n          disabled = props.disabled,\n          prefixCls = props.prefixCls,\n          loading = props.loading;\n      var ctrlNode = this.renderTopControlNode();\n      var _this$state2 = this.state,\n          open = _this$state2.open,\n          ariaId = _this$state2.ariaId;\n\n      if (open) {\n        var filterOptions = this.renderFilterOptions();\n        this._empty = filterOptions.empty;\n        this._options = filterOptions.options;\n      }\n\n      var realOpen = this.getRealOpenState();\n      var empty = this._empty;\n      var options = this._options || [];\n      var dataOrAriaAttributeProps = {};\n      Object.keys(props).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(props, key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n          dataOrAriaAttributeProps[key] = props[key];\n        }\n      }); // for (const key in props) {\n      //   if (\n      //     Object.prototype.hasOwnProperty.call(props, key) &&\n      //     (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')\n      //   ) {\n      //     dataOrAriaAttributeProps[key] = props[key];\n      //   }\n      // }\n\n      var extraSelectionProps = _extends({}, dataOrAriaAttributeProps);\n\n      if (!isMultipleOrTagsOrCombobox(props)) {\n        extraSelectionProps = _extends(_extends({}, extraSelectionProps), {\n          onKeyDown: this.onKeyDown,\n          tabIndex: props.disabled ? -1 : props.tabIndex\n        });\n      }\n\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, 1), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-focused\"), open || !!this._focused), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-combobox\"), isCombobox(props)), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-enabled\"), !disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-allow-clear\"), !!props.allowClear), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-loading\"), !!loading), _rootCls);\n      return React.createElement(SelectTrigger, {\n        onPopupFocus: this.onPopupFocus,\n        onMouseEnter: this.props.onMouseEnter,\n        onMouseLeave: this.props.onMouseLeave,\n        dropdownAlign: props.dropdownAlign,\n        dropdownClassName: props.dropdownClassName,\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle,\n        transitionName: props.transitionName,\n        animation: props.animation,\n        prefixCls: props.prefixCls,\n        dropdownStyle: props.dropdownStyle,\n        combobox: props.combobox,\n        showSearch: props.showSearch,\n        options: options,\n        empty: empty,\n        multiple: multiple,\n        disabled: disabled,\n        visible: realOpen,\n        inputValue: state.inputValue,\n        value: state.value,\n        backfillValue: state.backfillValue,\n        firstActiveValue: props.firstActiveValue,\n        onDropdownVisibleChange: this.onDropdownVisibleChange,\n        getPopupContainer: props.getPopupContainer,\n        onMenuSelect: this.onMenuSelect,\n        onMenuDeselect: this.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        showAction: props.showAction,\n        ref: this.saveSelectTriggerRef,\n        menuItemSelectedIcon: props.menuItemSelectedIcon,\n        dropdownRender: props.dropdownRender,\n        ariaId: ariaId\n      }, React.createElement(\"div\", {\n        id: props.id,\n        style: props.style,\n        ref: this.saveRootRef,\n        onBlur: this.onOuterBlur,\n        onFocus: this.onOuterFocus,\n        className: classnames(rootCls),\n        onMouseDown: this.markMouseDown,\n        onMouseUp: this.markMouseLeave,\n        onMouseOut: this.markMouseLeave\n      }, React.createElement(\"div\", _extends({\n        ref: this.saveSelectionRef,\n        key: \"selection\",\n        className: \"\".concat(prefixCls, \"-selection\\n            \").concat(prefixCls, \"-selection--\").concat(multiple ? 'multiple' : 'single'),\n        role: \"combobox\",\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"true\",\n        \"aria-controls\": ariaId,\n        \"aria-expanded\": realOpen\n      }, extraSelectionProps), ctrlNode, this.renderClear(), this.renderArrow(!!multiple))));\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\nSelect.propTypes = SelectPropTypes;\nSelect.defaultProps = {\n  prefixCls: 'rc-select',\n  defaultOpen: false,\n  labelInValue: false,\n  defaultActiveFirstOption: true,\n  showSearch: true,\n  allowClear: false,\n  placeholder: '',\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onSelect: noop,\n  onSearch: noop,\n  onDeselect: noop,\n  onInputKeyDown: noop,\n  dropdownMatchSelectWidth: true,\n  dropdownStyle: {},\n  dropdownMenuStyle: {},\n  optionFilterProp: 'value',\n  optionLabelProp: 'value',\n  notFoundContent: 'Not Found',\n  backfill: false,\n  showAction: ['click'],\n  tokenSeparators: [],\n  autoClearSearchValue: true,\n  tabIndex: 0,\n  dropdownRender: function dropdownRender(menu) {\n    return menu;\n  }\n};\n\nSelect.getDerivedStateFromProps = function (nextProps, prevState) {\n  var optionsInfo = prevState.skipBuildOptionsInfo ? prevState.optionsInfo : Select.getOptionsInfoFromProps(nextProps, prevState);\n  var newState = {\n    optionsInfo: optionsInfo,\n    skipBuildOptionsInfo: false\n  };\n\n  if ('open' in nextProps) {\n    newState.open = nextProps.open;\n  }\n\n  if (nextProps.disabled && prevState.open) {\n    newState.open = false;\n  }\n\n  if ('value' in nextProps) {\n    var value = Select.getValueFromProps(nextProps);\n    newState.value = value;\n\n    if (nextProps.combobox) {\n      newState.inputValue = Select.getInputValueForCombobox(nextProps, optionsInfo);\n    }\n  }\n\n  return newState;\n};\n\nSelect.getOptionsFromChildren = function (children) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  React.Children.forEach(children, function (child) {\n    if (!child) {\n      return;\n    }\n\n    var type = child.type;\n\n    if (type.isSelectOptGroup) {\n      Select.getOptionsFromChildren(child.props.children, options);\n    } else {\n      options.push(child);\n    }\n  });\n  return options;\n};\n\nSelect.getInputValueForCombobox = function (props, optionsInfo, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (value.length) {\n    value = value[0];\n  } else {\n    return '';\n  }\n\n  var label = value;\n\n  if (props.labelInValue) {\n    label = value.label;\n  } else if (optionsInfo[getMapKey(value)]) {\n    label = optionsInfo[getMapKey(value)].label;\n  }\n\n  if (label === undefined) {\n    label = '';\n  }\n\n  return label;\n};\n\nSelect.getLabelFromOption = function (props, option) {\n  return getPropValue(option, props.optionLabelProp);\n};\n\nSelect.getOptionsInfoFromProps = function (props, preState) {\n  var options = Select.getOptionsFromChildren(props.children);\n  var optionsInfo = {};\n  options.forEach(function (option) {\n    var singleValue = getValuePropValue(option);\n    optionsInfo[getMapKey(singleValue)] = {\n      option: option,\n      value: singleValue,\n      label: Select.getLabelFromOption(props, option),\n      title: option.props.title,\n      disabled: option.props.disabled\n    };\n  });\n\n  if (preState) {\n    // keep option info in pre state value.\n    var oldOptionsInfo = preState.optionsInfo;\n    var value = preState.value;\n\n    if (value) {\n      value.forEach(function (v) {\n        var key = getMapKey(v);\n\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n          optionsInfo[key] = oldOptionsInfo[key];\n        }\n      });\n    }\n  }\n\n  return optionsInfo;\n};\n\nSelect.getValueFromProps = function (props, useDefaultValue) {\n  var value = [];\n\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n\n  if (props.labelInValue) {\n    value = value.map(function (v) {\n      return v.key;\n    });\n  }\n\n  return value;\n};\n\nSelect.displayName = 'Select';\npolyfill(Select);\nexport default Select;"],"mappings":"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"},"metadata":{},"sourceType":"module"}