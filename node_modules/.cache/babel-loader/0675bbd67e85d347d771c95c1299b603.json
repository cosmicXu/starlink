{"ast":null,"code":"import _classCallCheck from\"/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Row,Col}from'antd';import axios from'axios';import SatSetting from'./SatSetting';import SatelliteList from'./SatelliteList';import{BASE_URL,NEARBY_SATELLITE,SAT_API_KEY,STARLINK_CATEGORY}from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(){var _this;_classCallCheck(this,Main);_this=_super.call(this);_this.showNearbySatellite=function(setting){_this.setState({settings:setting});_this.fetchSatellite(setting);};_this.fetchSatellite=function(setting){var latitude=setting.latitude,longitude=setting.longitude,elevation=setting.elevation,altitude=setting.altitude;var url=\"\".concat(BASE_URL,\"/api/\").concat(NEARBY_SATELLITE,\"/\").concat(latitude,\"/\").concat(longitude,\"/\").concat(elevation,\"/\").concat(altitude,\"/\").concat(STARLINK_CATEGORY,\"/&apiKey=\").concat(SAT_API_KEY);_this.setState({isLoadingList:true});axios.get(url).then(function(response){console.log(response.data);_this.setState({satInfo:response.data,isLoadingList:false});}).catch(function(error){console.log('err in fetch satellite -> ',error);});};_this.state={satInfo:null,settings:null,isLoadingList:false};return _this;}_createClass(Main,[{key:\"render\",value:function render(){var _this$state=this.state,satInfo=_this$state.satInfo,isLoadingList=_this$state.isLoadingList;return/*#__PURE__*/_jsxs(Row,{className:\"main\",children:[/*#__PURE__*/_jsxs(Col,{span:8,className:\"left-side\",children:[/*#__PURE__*/_jsx(SatSetting,{onShow:this.showNearbySatellite}),/*#__PURE__*/_jsx(SatelliteList,{satInfo:satInfo,isLoad:isLoadingList})]}),/*#__PURE__*/_jsx(Col,{span:16,className:\"right-side\",children:\"right\"})]});}}]);return Main;}(Component);export default Main;","map":{"version":3,"names":["React","Component","Row","Col","axios","SatSetting","SatelliteList","BASE_URL","NEARBY_SATELLITE","SAT_API_KEY","STARLINK_CATEGORY","Main","showNearbySatellite","setting","setState","settings","fetchSatellite","latitude","longitude","elevation","altitude","url","isLoadingList","get","then","response","console","log","data","satInfo","catch","error","state"],"sources":["/Users/boyuxu/IdeaProjects/laoOffer/starlink/src/components/Main.js"],"sourcesContent":["import React, {Component} from 'react';\nimport { Row, Col } from 'antd';\nimport axios from 'axios';\nimport SatSetting from './SatSetting';\nimport SatelliteList from './SatelliteList';\nimport {BASE_URL, NEARBY_SATELLITE, SAT_API_KEY, STARLINK_CATEGORY} from \"../constants\";\n\nclass Main extends Component {\n    constructor(){\n        super();\n        this.state = {\n            satInfo: null,\n            settings: null,\n            isLoadingList: false\n        };\n    }\n\n    showNearbySatellite = (setting) => {\n        this.setState({\n            settings: setting\n        })\n        this.fetchSatellite(setting);\n    }\n\n    fetchSatellite= (setting) => {\n        const {latitude, longitude, elevation, altitude} = setting;\n        const url = `${BASE_URL }/api/${NEARBY_SATELLITE}/${latitude}/${longitude}/${elevation}/${altitude}/${STARLINK_CATEGORY}/&apiKey=${SAT_API_KEY}`;\n\n        this.setState({\n            isLoadingList: true\n        });\n\n        axios.get(url)\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    satInfo: response.data,\n                    isLoadingList: false\n                })\n            })\n            .catch(error => {\n                console.log('err in fetch satellite -> ', error);\n            })\n    }\n\n    render() {\n        const { satInfo, isLoadingList } = this.state;\n        return (\n            <Row className='main'>\n                <Col span={8} className='left-side'>\n                    <SatSetting onShow={this.showNearbySatellite}/>\n                    <SatelliteList satInfo={satInfo}\n                                   isLoad={isLoadingList}\n                    />\n                </Col>\n                <Col span={16} className=\"right-side\">\n                    right\n                </Col>\n            </Row>\n        );\n    }\n}\n\nexport default Main;\n"],"mappings":"wfAAA,MAAOA,MAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,MAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,WAAP,KAAuB,cAAvB,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,OAAQC,QAAR,CAAkBC,gBAAlB,CAAoCC,WAApC,CAAiDC,iBAAjD,KAAyE,cAAzE,C,2FAEMC,K,4FACF,eAAa,sCACT,wBADS,MASbC,mBATa,CASS,SAACC,OAAD,CAAa,CAC/B,MAAKC,QAAL,CAAc,CACVC,QAAQ,CAAEF,OADA,CAAd,EAGA,MAAKG,cAAL,CAAoBH,OAApB,EACH,CAdY,OAgBbG,cAhBa,CAgBG,SAACH,OAAD,CAAa,CACzB,GAAOI,SAAP,CAAmDJ,OAAnD,CAAOI,QAAP,CAAiBC,SAAjB,CAAmDL,OAAnD,CAAiBK,SAAjB,CAA4BC,SAA5B,CAAmDN,OAAnD,CAA4BM,SAA5B,CAAuCC,QAAvC,CAAmDP,OAAnD,CAAuCO,QAAvC,CACA,GAAMC,IAAG,WAAMd,QAAN,iBAAuBC,gBAAvB,aAA2CS,QAA3C,aAAuDC,SAAvD,aAAoEC,SAApE,aAAiFC,QAAjF,aAA6FV,iBAA7F,qBAA0HD,WAA1H,CAAT,CAEA,MAAKK,QAAL,CAAc,CACVQ,aAAa,CAAE,IADL,CAAd,EAIAlB,KAAK,CAACmB,GAAN,CAAUF,GAAV,EACKG,IADL,CACU,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,MAAKd,QAAL,CAAc,CACVe,OAAO,CAAEJ,QAAQ,CAACG,IADR,CAEVN,aAAa,CAAE,KAFL,CAAd,EAIH,CAPL,EAQKQ,KARL,CAQW,SAAAC,KAAK,CAAI,CACZL,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0CI,KAA1C,EACH,CAVL,EAWH,CAnCY,CAET,MAAKC,KAAL,CAAa,CACTH,OAAO,CAAE,IADA,CAETd,QAAQ,CAAE,IAFD,CAGTO,aAAa,CAAE,KAHN,CAAb,CAFS,aAOZ,C,uCA8BD,iBAAS,CACL,gBAAmC,KAAKU,KAAxC,CAAQH,OAAR,aAAQA,OAAR,CAAiBP,aAAjB,aAAiBA,aAAjB,CACA,mBACI,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACI,MAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,SAAS,CAAC,WAAxB,wBACI,KAAC,UAAD,EAAY,MAAM,CAAE,KAAKV,mBAAzB,EADJ,cAEI,KAAC,aAAD,EAAe,OAAO,CAAEiB,OAAxB,CACe,MAAM,CAAEP,aADvB,EAFJ,GADJ,cAOI,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,CAAe,SAAS,CAAC,YAAzB,mBAPJ,GADJ,CAaH,C,kBArDcrB,S,EAwDnB,cAAeU,KAAf"},"metadata":{},"sourceType":"module"}