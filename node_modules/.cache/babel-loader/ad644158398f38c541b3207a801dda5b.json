{"ast":null,"code":"import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport InputHandler from './InputHandler';\n\nfunction noop() {}\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction defaultParser(input) {\n  return input.replace(/[^\\w\\.-]+/g, '');\n}\n/**\n * When click and hold on a button - the speed of auto changin the value.\n */\n\n\nvar SPEED = 200;\n/**\n * When click and hold on a button - the delay before auto changin the value.\n */\n\nvar DELAY = 600;\n/**\n * Max Safe Integer -- on IE this is not available, so manually set the number in that case.\n * The reason this is used, instead of Infinity is because numbers above the MSI are unstable\n */\n\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar isValidProps = function isValidProps(value) {\n  return value !== undefined && value !== null;\n};\n\nvar isEqual = function isEqual(oldValue, newValue) {\n  return newValue === oldValue || typeof newValue === 'number' && typeof oldValue === 'number' && isNaN(newValue) && isNaN(oldValue);\n};\n\nvar InputNumber = function (_React$Component) {\n  _inherits(InputNumber, _React$Component);\n\n  function InputNumber(props) {\n    _classCallCheck(this, InputNumber);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var value = void 0;\n\n    if ('value' in props) {\n      value = props.value;\n    } else {\n      value = props.defaultValue;\n    }\n\n    _this.state = {\n      focused: props.autoFocus\n    };\n\n    var validValue = _this.getValidValue(_this.toNumber(value));\n\n    _this.state = _extends({}, _this.state, {\n      inputValue: _this.toPrecisionAsStep(validValue),\n      value: validValue\n    });\n    return _this;\n  }\n\n  InputNumber.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate();\n  };\n\n  InputNumber.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props = this.props,\n        value = _props.value,\n        onChange = _props.onChange,\n        max = _props.max,\n        min = _props.min;\n    var focused = this.state.focused; // Don't trigger in componentDidMount\n\n    if (prevProps) {\n      if (!isEqual(prevProps.value, value) || !isEqual(prevProps.max, max) || !isEqual(prevProps.min, min)) {\n        var validValue = focused ? value : this.getValidValue(value);\n        var nextInputValue = void 0;\n\n        if (this.pressingUpOrDown) {\n          nextInputValue = validValue;\n        } else if (this.inputting) {\n          nextInputValue = this.rawInput;\n        } else {\n          nextInputValue = this.toPrecisionAsStep(validValue);\n        }\n\n        this.setState({\n          // eslint-disable-line\n          value: validValue,\n          inputValue: nextInputValue\n        });\n      } // Trigger onChange when max or min change\n      // https://github.com/ant-design/ant-design/issues/11574\n\n\n      var nextValue = 'value' in this.props ? value : this.state.value; // ref: null < 20 === true\n      // https://github.com/ant-design/ant-design/issues/14277\n\n      if ('max' in this.props && prevProps.max !== max && typeof nextValue === 'number' && nextValue > max && onChange) {\n        onChange(max);\n      }\n\n      if ('min' in this.props && prevProps.min !== min && typeof nextValue === 'number' && nextValue < min && onChange) {\n        onChange(min);\n      }\n    } // Restore cursor\n\n\n    try {\n      // Firefox set the input cursor after it get focused.\n      // This caused that if an input didn't init with the selection,\n      // set will cause cursor not correct when first focus.\n      // Safari will focus input if set selection. We need skip this.\n      if (this.cursorStart !== undefined && this.state.focused) {\n        // In most cases, the string after cursor is stable.\n        // We can move the cursor before it\n        if ( // If not match full str, try to match part of str\n        !this.partRestoreByAfter(this.cursorAfter) && this.state.value !== this.props.value) {\n          // If not match any of then, let's just keep the position\n          // TODO: Logic should not reach here, need check if happens\n          var pos = this.cursorStart + 1; // If not have last string, just position to the end\n\n          if (!this.cursorAfter) {\n            pos = this.input.value.length;\n          } else if (this.lastKeyCode === KeyCode.BACKSPACE) {\n            pos = this.cursorStart - 1;\n          } else if (this.lastKeyCode === KeyCode.DELETE) {\n            pos = this.cursorStart;\n          }\n\n          this.fixCaret(pos, pos);\n        } else if (this.currentValue === this.input.value) {\n          // Handle some special key code\n          switch (this.lastKeyCode) {\n            case KeyCode.BACKSPACE:\n              this.fixCaret(this.cursorStart - 1, this.cursorStart - 1);\n              break;\n\n            case KeyCode.DELETE:\n              this.fixCaret(this.cursorStart + 1, this.cursorStart + 1);\n              break;\n\n            default: // Do nothing\n\n          }\n        }\n      }\n    } catch (e) {} // Do nothing\n    // Reset last key\n\n\n    this.lastKeyCode = null; // pressingUpOrDown is true means that someone just click up or down button\n\n    if (!this.pressingUpOrDown) {\n      return;\n    }\n\n    if (this.props.focusOnUpDown && this.state.focused) {\n      if (document.activeElement !== this.input) {\n        this.focus();\n      }\n    }\n\n    this.pressingUpOrDown = false;\n  };\n\n  InputNumber.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.stop();\n  };\n\n  InputNumber.prototype.getCurrentValidValue = function getCurrentValidValue(value) {\n    var val = value;\n\n    if (val === '') {\n      val = '';\n    } else if (!this.isNotCompleteNumber(parseFloat(val, 10))) {\n      val = this.getValidValue(val);\n    } else {\n      val = this.state.value;\n    }\n\n    return this.toNumber(val);\n  };\n\n  InputNumber.prototype.getRatio = function getRatio(e) {\n    var ratio = 1;\n\n    if (e.metaKey || e.ctrlKey) {\n      ratio = 0.1;\n    } else if (e.shiftKey) {\n      ratio = 10;\n    }\n\n    return ratio;\n  };\n\n  InputNumber.prototype.getValueFromEvent = function getValueFromEvent(e) {\n    // optimize for chinese input expierence\n    // https://github.com/ant-design/ant-design/issues/8196\n    var value = e.target.value.trim().replace(/ã€‚/g, '.');\n\n    if (isValidProps(this.props.decimalSeparator)) {\n      value = value.replace(this.props.decimalSeparator, '.');\n    }\n\n    return value;\n  };\n\n  InputNumber.prototype.getValidValue = function getValidValue(value) {\n    var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.min;\n    var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.max;\n    var val = parseFloat(value, 10); // https://github.com/ant-design/ant-design/issues/7358\n\n    if (isNaN(val)) {\n      return value;\n    }\n\n    if (val < min) {\n      val = min;\n    }\n\n    if (val > max) {\n      val = max;\n    }\n\n    return val;\n  };\n\n  InputNumber.prototype.setValue = function setValue(v, callback) {\n    // trigger onChange\n    var precision = this.props.precision;\n    var newValue = this.isNotCompleteNumber(parseFloat(v, 10)) ? null : parseFloat(v, 10);\n    var _state = this.state,\n        _state$value = _state.value,\n        value = _state$value === undefined ? null : _state$value,\n        _state$inputValue = _state.inputValue,\n        inputValue = _state$inputValue === undefined ? null : _state$inputValue; // https://github.com/ant-design/ant-design/issues/7363\n    // https://github.com/ant-design/ant-design/issues/16622\n\n    var newValueInString = typeof newValue === 'number' ? newValue.toFixed(precision) : '' + newValue;\n    var changed = newValue !== value || newValueInString !== '' + inputValue;\n\n    if (!('value' in this.props)) {\n      this.setState({\n        value: newValue,\n        inputValue: this.toPrecisionAsStep(v)\n      }, callback);\n    } else {\n      // always set input value same as value\n      this.setState({\n        inputValue: this.toPrecisionAsStep(this.state.value)\n      }, callback);\n    }\n\n    if (changed) {\n      this.props.onChange(newValue);\n    }\n\n    return newValue;\n  };\n\n  InputNumber.prototype.getPrecision = function getPrecision(value) {\n    if (isValidProps(this.props.precision)) {\n      return this.props.precision;\n    }\n\n    var valueString = value.toString();\n\n    if (valueString.indexOf('e-') >= 0) {\n      return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\n    }\n\n    var precision = 0;\n\n    if (valueString.indexOf('.') >= 0) {\n      precision = valueString.length - valueString.indexOf('.') - 1;\n    }\n\n    return precision;\n  }; // step={1.0} value={1.51}\n  // press +\n  // then value should be 2.51, rather than 2.5\n  // if this.props.precision is undefined\n  // https://github.com/react-component/input-number/issues/39\n\n\n  InputNumber.prototype.getMaxPrecision = function getMaxPrecision(currentValue) {\n    var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var _props2 = this.props,\n        precision = _props2.precision,\n        step = _props2.step;\n\n    if (isValidProps(precision)) {\n      return precision;\n    }\n\n    var ratioPrecision = this.getPrecision(ratio);\n    var stepPrecision = this.getPrecision(step);\n    var currentValuePrecision = this.getPrecision(currentValue);\n\n    if (!currentValue) {\n      return ratioPrecision + stepPrecision;\n    }\n\n    return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\n  };\n\n  InputNumber.prototype.getPrecisionFactor = function getPrecisionFactor(currentValue) {\n    var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var precision = this.getMaxPrecision(currentValue, ratio);\n    return Math.pow(10, precision);\n  };\n\n  InputNumber.prototype.fixCaret = function fixCaret(start, end) {\n    if (start === undefined || end === undefined || !this.input || !this.input.value) {\n      return;\n    }\n\n    try {\n      var currentStart = this.input.selectionStart;\n      var currentEnd = this.input.selectionEnd;\n\n      if (start !== currentStart || end !== currentEnd) {\n        this.input.setSelectionRange(start, end);\n      }\n    } catch (e) {// Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  };\n\n  InputNumber.prototype.focus = function focus() {\n    this.input.focus();\n    this.recordCursorPosition();\n  };\n\n  InputNumber.prototype.blur = function blur() {\n    this.input.blur();\n  };\n\n  InputNumber.prototype.select = function select() {\n    this.input.select();\n  };\n\n  InputNumber.prototype.formatWrapper = function formatWrapper(num) {\n    // http://2ality.com/2012/03/signedzero.html\n    // https://github.com/ant-design/ant-design/issues/9439\n    if (this.props.formatter) {\n      return this.props.formatter(num);\n    }\n\n    return num;\n  };\n\n  InputNumber.prototype.toPrecisionAsStep = function toPrecisionAsStep(num) {\n    if (this.isNotCompleteNumber(num) || num === '') {\n      return num;\n    }\n\n    var precision = Math.abs(this.getMaxPrecision(num));\n\n    if (!isNaN(precision)) {\n      return Number(num).toFixed(precision);\n    }\n\n    return num.toString();\n  }; // '1.' '1x' 'xx' '' => are not complete numbers\n\n\n  InputNumber.prototype.isNotCompleteNumber = function isNotCompleteNumber(num) {\n    return isNaN(num) || num === '' || num === null || num && num.toString().indexOf('.') === num.toString().length - 1;\n  };\n\n  InputNumber.prototype.toNumber = function toNumber(num) {\n    var precision = this.props.precision;\n    var focused = this.state.focused; // num.length > 16 => This is to prevent input of large numbers\n\n    var numberIsTooLarge = num && num.length > 16 && focused;\n\n    if (this.isNotCompleteNumber(num) || numberIsTooLarge) {\n      return num;\n    }\n\n    if (isValidProps(precision)) {\n      return Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision);\n    }\n\n    return Number(num);\n  };\n\n  InputNumber.prototype.upStep = function upStep(val, rat) {\n    var step = this.props.step;\n    var precisionFactor = this.getPrecisionFactor(val, rat);\n    var precision = Math.abs(this.getMaxPrecision(val, rat));\n    var result = ((precisionFactor * val + precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n    return this.toNumber(result);\n  };\n\n  InputNumber.prototype.downStep = function downStep(val, rat) {\n    var step = this.props.step;\n    var precisionFactor = this.getPrecisionFactor(val, rat);\n    var precision = Math.abs(this.getMaxPrecision(val, rat));\n    var result = ((precisionFactor * val - precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n    return this.toNumber(result);\n  };\n\n  InputNumber.prototype.step = function step(type, e) {\n    var _this2 = this;\n\n    var ratio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var recursive = arguments[3];\n    this.stop();\n\n    if (e) {\n      e.persist();\n      e.preventDefault();\n    }\n\n    var props = this.props;\n\n    if (props.disabled) {\n      return;\n    }\n\n    var value = this.getCurrentValidValue(this.state.inputValue) || 0;\n\n    if (this.isNotCompleteNumber(value)) {\n      return;\n    }\n\n    var val = this[type + 'Step'](value, ratio);\n    var outOfRange = val > props.max || val < props.min;\n\n    if (val > props.max) {\n      val = props.max;\n    } else if (val < props.min) {\n      val = props.min;\n    }\n\n    this.setValue(val);\n    this.setState({\n      focused: true\n    });\n\n    if (outOfRange) {\n      return;\n    }\n\n    this.autoStepTimer = setTimeout(function () {\n      _this2[type](e, ratio, true);\n    }, recursive ? SPEED : DELAY);\n  };\n\n  InputNumber.prototype.render = function render() {\n    var _classNames;\n\n    var props = _extends({}, this.props);\n\n    var prefixCls = props.prefixCls,\n        disabled = props.disabled,\n        readOnly = props.readOnly,\n        useTouch = props.useTouch,\n        autoComplete = props.autoComplete,\n        upHandler = props.upHandler,\n        downHandler = props.downHandler,\n        rest = _objectWithoutProperties(props, ['prefixCls', 'disabled', 'readOnly', 'useTouch', 'autoComplete', 'upHandler', 'downHandler']);\n\n    var classes = classNames((_classNames = {}, _classNames[prefixCls] = true, _classNames[props.className] = !!props.className, _classNames[prefixCls + '-disabled'] = disabled, _classNames[prefixCls + '-focused'] = this.state.focused, _classNames));\n    var upDisabledClass = '';\n    var downDisabledClass = '';\n    var _state2 = this.state,\n        value = _state2.value,\n        inputValue = _state2.inputValue;\n\n    if (value || value === 0) {\n      if (!isNaN(value)) {\n        var val = Number(value);\n\n        if (val >= props.max) {\n          upDisabledClass = prefixCls + '-handler-up-disabled';\n        }\n\n        if (val <= props.min) {\n          downDisabledClass = prefixCls + '-handler-down-disabled';\n        }\n      } else {\n        upDisabledClass = prefixCls + '-handler-up-disabled';\n        downDisabledClass = prefixCls + '-handler-down-disabled';\n      }\n    }\n\n    var dataOrAriaAttributeProps = {};\n\n    for (var key in props) {\n      if (props.hasOwnProperty(key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n        dataOrAriaAttributeProps[key] = props[key];\n      }\n    }\n\n    var editable = !props.readOnly && !props.disabled; // focus state, show input value\n    // unfocus state, show valid value\n\n    var inputDisplayValue = this.composing ? inputValue : this.getInputDisplayValue();\n    var upEvents = void 0;\n    var downEvents = void 0;\n\n    if (useTouch) {\n      upEvents = {\n        onTouchStart: editable && !upDisabledClass ? this.up : noop,\n        onTouchEnd: this.stop\n      };\n      downEvents = {\n        onTouchStart: editable && !downDisabledClass ? this.down : noop,\n        onTouchEnd: this.stop\n      };\n    } else {\n      upEvents = {\n        onMouseDown: editable && !upDisabledClass ? this.up : noop,\n        onMouseUp: this.stop,\n        onMouseLeave: this.stop\n      };\n      downEvents = {\n        onMouseDown: editable && !downDisabledClass ? this.down : noop,\n        onMouseUp: this.stop,\n        onMouseLeave: this.stop\n      };\n    }\n\n    var isUpDisabled = !!upDisabledClass || disabled || readOnly;\n    var isDownDisabled = !!downDisabledClass || disabled || readOnly; // ref for test\n\n    return React.createElement('div', {\n      className: classes,\n      style: props.style,\n      title: props.title,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave,\n      onMouseOver: props.onMouseOver,\n      onMouseOut: props.onMouseOut,\n      onCompositionStart: this.onComposition,\n      onCompositionEnd: this.onComposition\n    }, React.createElement('div', {\n      className: prefixCls + '-handler-wrap'\n    }, React.createElement(InputHandler, _extends({\n      ref: this.saveUp,\n      disabled: isUpDisabled,\n      prefixCls: prefixCls,\n      unselectable: 'unselectable'\n    }, upEvents, {\n      role: 'button',\n      'aria-label': 'Increase Value',\n      'aria-disabled': !!isUpDisabled,\n      className: prefixCls + '-handler ' + prefixCls + '-handler-up ' + upDisabledClass\n    }), upHandler || React.createElement('span', {\n      unselectable: 'unselectable',\n      className: prefixCls + '-handler-up-inner',\n      onClick: preventDefault\n    })), React.createElement(InputHandler, _extends({\n      ref: this.saveDown,\n      disabled: isDownDisabled,\n      prefixCls: prefixCls,\n      unselectable: 'unselectable'\n    }, downEvents, {\n      role: 'button',\n      'aria-label': 'Decrease Value',\n      'aria-disabled': !!isDownDisabled,\n      className: prefixCls + '-handler ' + prefixCls + '-handler-down ' + downDisabledClass\n    }), downHandler || React.createElement('span', {\n      unselectable: 'unselectable',\n      className: prefixCls + '-handler-down-inner',\n      onClick: preventDefault\n    }))), React.createElement('div', {\n      className: prefixCls + '-input-wrap'\n    }, React.createElement('input', _extends({\n      role: 'spinbutton',\n      'aria-valuemin': props.min,\n      'aria-valuemax': props.max,\n      'aria-valuenow': value,\n      required: props.required,\n      type: props.type,\n      placeholder: props.placeholder,\n      onClick: props.onClick,\n      onMouseUp: this.onMouseUp,\n      className: prefixCls + '-input',\n      tabIndex: props.tabIndex,\n      autoComplete: autoComplete,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      onKeyDown: editable ? this.onKeyDown : noop,\n      onKeyUp: editable ? this.onKeyUp : noop,\n      autoFocus: props.autoFocus,\n      maxLength: props.maxLength,\n      readOnly: props.readOnly,\n      disabled: props.disabled,\n      max: props.max,\n      min: props.min,\n      step: props.step,\n      name: props.name,\n      title: props.title,\n      id: props.id,\n      onChange: this.onChange,\n      ref: this.saveInput,\n      value: inputDisplayValue,\n      pattern: props.pattern,\n      inputMode: props.inputMode\n    }, dataOrAriaAttributeProps))));\n  };\n\n  return InputNumber;\n}(React.Component);\n\nInputNumber.propTypes = {\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  focusOnUpDown: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  onChange: PropTypes.func,\n  onPressEnter: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  prefixCls: PropTypes.string,\n  tabIndex: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  disabled: PropTypes.bool,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  readOnly: PropTypes.bool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  step: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  upHandler: PropTypes.node,\n  downHandler: PropTypes.node,\n  useTouch: PropTypes.bool,\n  formatter: PropTypes.func,\n  parser: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  precision: PropTypes.number,\n  required: PropTypes.bool,\n  pattern: PropTypes.string,\n  decimalSeparator: PropTypes.string,\n  inputMode: PropTypes.string\n};\nInputNumber.defaultProps = {\n  focusOnUpDown: true,\n  useTouch: false,\n  prefixCls: 'rc-input-number',\n  min: -MAX_SAFE_INTEGER,\n  step: 1,\n  style: {},\n  onChange: noop,\n  onKeyDown: noop,\n  onPressEnter: noop,\n  onFocus: noop,\n  onBlur: noop,\n  parser: defaultParser,\n  required: false,\n  autoComplete: 'off'\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onKeyDown = function (e) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var _props3 = _this3.props,\n        onKeyDown = _props3.onKeyDown,\n        onPressEnter = _props3.onPressEnter;\n\n    if (e.keyCode === KeyCode.UP) {\n      var ratio = _this3.getRatio(e);\n\n      _this3.up(e, ratio);\n\n      _this3.stop();\n    } else if (e.keyCode === KeyCode.DOWN) {\n      var _ratio = _this3.getRatio(e);\n\n      _this3.down(e, _ratio);\n\n      _this3.stop();\n    } else if (e.keyCode === KeyCode.ENTER && onPressEnter) {\n      onPressEnter(e);\n    } // Trigger user key down\n\n\n    _this3.recordCursorPosition();\n\n    _this3.lastKeyCode = e.keyCode;\n\n    if (onKeyDown) {\n      onKeyDown.apply(undefined, [e].concat(args));\n    }\n  };\n\n  this.onKeyUp = function (e) {\n    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    var onKeyUp = _this3.props.onKeyUp;\n\n    _this3.stop();\n\n    _this3.recordCursorPosition(); // Trigger user key up\n\n\n    if (onKeyUp) {\n      onKeyUp.apply(undefined, [e].concat(args));\n    }\n  };\n\n  this.onChange = function (e) {\n    var onChange = _this3.props.onChange;\n\n    if (_this3.state.focused) {\n      _this3.inputting = true;\n    }\n\n    _this3.rawInput = _this3.props.parser(_this3.getValueFromEvent(e));\n\n    if (_this3.composing) {\n      _this3.setState({\n        inputValue: _this3.getValueFromEvent(e)\n      });\n    } else {\n      _this3.setState({\n        inputValue: _this3.rawInput\n      });\n\n      onChange(_this3.toNumber(_this3.rawInput)); // valid number or invalid string\n    }\n  };\n\n  this.onMouseUp = function () {\n    var onMouseUp = _this3.props.onMouseUp;\n\n    _this3.recordCursorPosition();\n\n    if (onMouseUp) {\n      onMouseUp.apply(undefined, arguments);\n    }\n  };\n\n  this.onFocus = function () {\n    var _props4;\n\n    _this3.setState({\n      focused: true\n    });\n\n    (_props4 = _this3.props).onFocus.apply(_props4, arguments);\n  };\n\n  this.onBlur = function () {\n    var onBlur = _this3.props.onBlur;\n    _this3.inputting = false;\n\n    _this3.setState({\n      focused: false\n    });\n\n    var value = _this3.getCurrentValidValue(_this3.state.inputValue);\n\n    var newValue = _this3.setValue(value);\n\n    if (onBlur) {\n      var originValue = _this3.input.value;\n\n      var inputValue = _this3.getInputDisplayValue({\n        focus: false,\n        value: newValue\n      });\n\n      _this3.input.value = inputValue;\n      onBlur.apply(undefined, arguments);\n      _this3.input.value = originValue;\n    }\n  };\n\n  this.onComposition = function (e) {\n    if (e.type === 'compositionstart') {\n      _this3.composing = true;\n    } else if (e.type === 'compositionend') {\n      _this3.composing = false;\n\n      _this3.onChange(e);\n    }\n  };\n\n  this.getInputDisplayValue = function (state) {\n    var _ref = state || _this3.state,\n        focused = _ref.focused,\n        inputValue = _ref.inputValue,\n        value = _ref.value;\n\n    var inputDisplayValue = void 0;\n\n    if (focused) {\n      inputDisplayValue = inputValue;\n    } else {\n      inputDisplayValue = _this3.toPrecisionAsStep(value);\n    }\n\n    if (inputDisplayValue === undefined || inputDisplayValue === null) {\n      inputDisplayValue = '';\n    }\n\n    var inputDisplayValueFormat = _this3.formatWrapper(inputDisplayValue);\n\n    if (isValidProps(_this3.props.decimalSeparator)) {\n      inputDisplayValueFormat = inputDisplayValueFormat.toString().replace('.', _this3.props.decimalSeparator);\n    }\n\n    return inputDisplayValueFormat;\n  };\n\n  this.recordCursorPosition = function () {\n    // Record position\n    try {\n      _this3.cursorStart = _this3.input.selectionStart;\n      _this3.cursorEnd = _this3.input.selectionEnd;\n      _this3.currentValue = _this3.input.value;\n      _this3.cursorBefore = _this3.input.value.substring(0, _this3.cursorStart);\n      _this3.cursorAfter = _this3.input.value.substring(_this3.cursorEnd);\n    } catch (e) {// Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  };\n\n  this.restoreByAfter = function (str) {\n    if (str === undefined) return false;\n    var fullStr = _this3.input.value;\n    var index = fullStr.lastIndexOf(str);\n    if (index === -1) return false;\n    var prevCursorPos = _this3.cursorBefore.length;\n\n    if (_this3.lastKeyCode === KeyCode.DELETE && _this3.cursorBefore.charAt(prevCursorPos - 1) === str[0]) {\n      _this3.fixCaret(prevCursorPos, prevCursorPos);\n\n      return true;\n    }\n\n    if (index + str.length === fullStr.length) {\n      _this3.fixCaret(index, index);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  this.partRestoreByAfter = function (str) {\n    if (str === undefined) return false; // For loop from full str to the str with last char to map. e.g. 123\n    // -> 123\n    // -> 23\n    // -> 3\n\n    return Array.prototype.some.call(str, function (_, start) {\n      var partStr = str.substring(start);\n      return _this3.restoreByAfter(partStr);\n    });\n  };\n\n  this.stop = function () {\n    if (_this3.autoStepTimer) {\n      clearTimeout(_this3.autoStepTimer);\n    }\n  };\n\n  this.down = function (e, ratio, recursive) {\n    _this3.pressingUpOrDown = true;\n\n    _this3.step('down', e, ratio, recursive);\n  };\n\n  this.up = function (e, ratio, recursive) {\n    _this3.pressingUpOrDown = true;\n\n    _this3.step('up', e, ratio, recursive);\n  };\n\n  this.saveUp = function (node) {\n    _this3.upHandler = node;\n  };\n\n  this.saveDown = function (node) {\n    _this3.downHandler = node;\n  };\n\n  this.saveInput = function (node) {\n    _this3.input = node;\n  };\n};\n\nexport default InputNumber;","map":{"version":3,"names":["_objectWithoutProperties","_extends","_classCallCheck","_possibleConstructorReturn","_inherits","React","PropTypes","classNames","KeyCode","InputHandler","noop","preventDefault","e","defaultParser","input","replace","SPEED","DELAY","MAX_SAFE_INTEGER","Number","Math","pow","isValidProps","value","undefined","isEqual","oldValue","newValue","isNaN","InputNumber","_React$Component","props","_this","call","_initialiseProps","defaultValue","state","focused","autoFocus","validValue","getValidValue","toNumber","inputValue","toPrecisionAsStep","prototype","componentDidMount","componentDidUpdate","prevProps","_props","onChange","max","min","nextInputValue","pressingUpOrDown","inputting","rawInput","setState","nextValue","cursorStart","partRestoreByAfter","cursorAfter","pos","length","lastKeyCode","BACKSPACE","DELETE","fixCaret","currentValue","focusOnUpDown","document","activeElement","focus","componentWillUnmount","stop","getCurrentValidValue","val","isNotCompleteNumber","parseFloat","getRatio","ratio","metaKey","ctrlKey","shiftKey","getValueFromEvent","target","trim","decimalSeparator","arguments","setValue","v","callback","precision","_state","_state$value","_state$inputValue","newValueInString","toFixed","changed","getPrecision","valueString","toString","indexOf","parseInt","slice","getMaxPrecision","_props2","step","ratioPrecision","stepPrecision","currentValuePrecision","getPrecisionFactor","start","end","currentStart","selectionStart","currentEnd","selectionEnd","setSelectionRange","recordCursorPosition","blur","select","formatWrapper","num","formatter","abs","numberIsTooLarge","round","upStep","rat","precisionFactor","result","downStep","type","_this2","recursive","persist","disabled","outOfRange","autoStepTimer","setTimeout","render","_classNames","prefixCls","readOnly","useTouch","autoComplete","upHandler","downHandler","rest","classes","className","upDisabledClass","downDisabledClass","_state2","dataOrAriaAttributeProps","key","hasOwnProperty","substr","editable","inputDisplayValue","composing","getInputDisplayValue","upEvents","downEvents","onTouchStart","up","onTouchEnd","down","onMouseDown","onMouseUp","onMouseLeave","isUpDisabled","isDownDisabled","createElement","style","title","onMouseEnter","onMouseOver","onMouseOut","onCompositionStart","onComposition","onCompositionEnd","ref","saveUp","unselectable","role","onClick","saveDown","required","placeholder","tabIndex","onFocus","onBlur","onKeyDown","onKeyUp","maxLength","name","id","saveInput","pattern","inputMode","Component","propTypes","oneOfType","number","string","bool","func","onPressEnter","node","parser","defaultProps","_this3","_len","args","Array","_key","_props3","keyCode","UP","DOWN","_ratio","ENTER","apply","concat","_len2","_key2","_props4","originValue","_ref","inputDisplayValueFormat","cursorEnd","cursorBefore","substring","restoreByAfter","str","fullStr","index","lastIndexOf","prevCursorPos","charAt","some","_","partStr","clearTimeout"],"sources":["/Users/boyuxu/IdeaProjects/laoOffer/starlink/node_modules/rc-input-number/es/index.js"],"sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport InputHandler from './InputHandler';\n\nfunction noop() {}\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction defaultParser(input) {\n  return input.replace(/[^\\w\\.-]+/g, '');\n}\n\n/**\n * When click and hold on a button - the speed of auto changin the value.\n */\nvar SPEED = 200;\n\n/**\n * When click and hold on a button - the delay before auto changin the value.\n */\nvar DELAY = 600;\n\n/**\n * Max Safe Integer -- on IE this is not available, so manually set the number in that case.\n * The reason this is used, instead of Infinity is because numbers above the MSI are unstable\n */\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar isValidProps = function isValidProps(value) {\n  return value !== undefined && value !== null;\n};\n\nvar isEqual = function isEqual(oldValue, newValue) {\n  return newValue === oldValue || typeof newValue === 'number' && typeof oldValue === 'number' && isNaN(newValue) && isNaN(oldValue);\n};\n\nvar InputNumber = function (_React$Component) {\n  _inherits(InputNumber, _React$Component);\n\n  function InputNumber(props) {\n    _classCallCheck(this, InputNumber);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var value = void 0;\n    if ('value' in props) {\n      value = props.value;\n    } else {\n      value = props.defaultValue;\n    }\n    _this.state = {\n      focused: props.autoFocus\n    };\n    var validValue = _this.getValidValue(_this.toNumber(value));\n    _this.state = _extends({}, _this.state, {\n      inputValue: _this.toPrecisionAsStep(validValue),\n      value: validValue\n    });\n    return _this;\n  }\n\n  InputNumber.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate();\n  };\n\n  InputNumber.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props = this.props,\n        value = _props.value,\n        onChange = _props.onChange,\n        max = _props.max,\n        min = _props.min;\n    var focused = this.state.focused;\n\n    // Don't trigger in componentDidMount\n\n    if (prevProps) {\n      if (!isEqual(prevProps.value, value) || !isEqual(prevProps.max, max) || !isEqual(prevProps.min, min)) {\n        var validValue = focused ? value : this.getValidValue(value);\n        var nextInputValue = void 0;\n        if (this.pressingUpOrDown) {\n          nextInputValue = validValue;\n        } else if (this.inputting) {\n          nextInputValue = this.rawInput;\n        } else {\n          nextInputValue = this.toPrecisionAsStep(validValue);\n        }\n        this.setState({ // eslint-disable-line\n          value: validValue,\n          inputValue: nextInputValue\n        });\n      }\n\n      // Trigger onChange when max or min change\n      // https://github.com/ant-design/ant-design/issues/11574\n      var nextValue = 'value' in this.props ? value : this.state.value;\n      // ref: null < 20 === true\n      // https://github.com/ant-design/ant-design/issues/14277\n      if ('max' in this.props && prevProps.max !== max && typeof nextValue === 'number' && nextValue > max && onChange) {\n        onChange(max);\n      }\n      if ('min' in this.props && prevProps.min !== min && typeof nextValue === 'number' && nextValue < min && onChange) {\n        onChange(min);\n      }\n    }\n\n    // Restore cursor\n    try {\n      // Firefox set the input cursor after it get focused.\n      // This caused that if an input didn't init with the selection,\n      // set will cause cursor not correct when first focus.\n      // Safari will focus input if set selection. We need skip this.\n      if (this.cursorStart !== undefined && this.state.focused) {\n        // In most cases, the string after cursor is stable.\n        // We can move the cursor before it\n\n        if (\n        // If not match full str, try to match part of str\n        !this.partRestoreByAfter(this.cursorAfter) && this.state.value !== this.props.value) {\n          // If not match any of then, let's just keep the position\n          // TODO: Logic should not reach here, need check if happens\n          var pos = this.cursorStart + 1;\n\n          // If not have last string, just position to the end\n          if (!this.cursorAfter) {\n            pos = this.input.value.length;\n          } else if (this.lastKeyCode === KeyCode.BACKSPACE) {\n            pos = this.cursorStart - 1;\n          } else if (this.lastKeyCode === KeyCode.DELETE) {\n            pos = this.cursorStart;\n          }\n          this.fixCaret(pos, pos);\n        } else if (this.currentValue === this.input.value) {\n          // Handle some special key code\n          switch (this.lastKeyCode) {\n            case KeyCode.BACKSPACE:\n              this.fixCaret(this.cursorStart - 1, this.cursorStart - 1);\n              break;\n            case KeyCode.DELETE:\n              this.fixCaret(this.cursorStart + 1, this.cursorStart + 1);\n              break;\n            default:\n            // Do nothing\n          }\n        }\n      }\n    } catch (e) {}\n    // Do nothing\n\n\n    // Reset last key\n    this.lastKeyCode = null;\n\n    // pressingUpOrDown is true means that someone just click up or down button\n    if (!this.pressingUpOrDown) {\n      return;\n    }\n    if (this.props.focusOnUpDown && this.state.focused) {\n      if (document.activeElement !== this.input) {\n        this.focus();\n      }\n    }\n\n    this.pressingUpOrDown = false;\n  };\n\n  InputNumber.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.stop();\n  };\n\n  InputNumber.prototype.getCurrentValidValue = function getCurrentValidValue(value) {\n    var val = value;\n    if (val === '') {\n      val = '';\n    } else if (!this.isNotCompleteNumber(parseFloat(val, 10))) {\n      val = this.getValidValue(val);\n    } else {\n      val = this.state.value;\n    }\n    return this.toNumber(val);\n  };\n\n  InputNumber.prototype.getRatio = function getRatio(e) {\n    var ratio = 1;\n    if (e.metaKey || e.ctrlKey) {\n      ratio = 0.1;\n    } else if (e.shiftKey) {\n      ratio = 10;\n    }\n    return ratio;\n  };\n\n  InputNumber.prototype.getValueFromEvent = function getValueFromEvent(e) {\n    // optimize for chinese input expierence\n    // https://github.com/ant-design/ant-design/issues/8196\n    var value = e.target.value.trim().replace(/ã€‚/g, '.');\n\n    if (isValidProps(this.props.decimalSeparator)) {\n      value = value.replace(this.props.decimalSeparator, '.');\n    }\n\n    return value;\n  };\n\n  InputNumber.prototype.getValidValue = function getValidValue(value) {\n    var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.min;\n    var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.max;\n\n    var val = parseFloat(value, 10);\n    // https://github.com/ant-design/ant-design/issues/7358\n    if (isNaN(val)) {\n      return value;\n    }\n    if (val < min) {\n      val = min;\n    }\n    if (val > max) {\n      val = max;\n    }\n    return val;\n  };\n\n  InputNumber.prototype.setValue = function setValue(v, callback) {\n    // trigger onChange\n    var precision = this.props.precision;\n\n    var newValue = this.isNotCompleteNumber(parseFloat(v, 10)) ? null : parseFloat(v, 10);\n    var _state = this.state,\n        _state$value = _state.value,\n        value = _state$value === undefined ? null : _state$value,\n        _state$inputValue = _state.inputValue,\n        inputValue = _state$inputValue === undefined ? null : _state$inputValue;\n    // https://github.com/ant-design/ant-design/issues/7363\n    // https://github.com/ant-design/ant-design/issues/16622\n\n    var newValueInString = typeof newValue === 'number' ? newValue.toFixed(precision) : '' + newValue;\n    var changed = newValue !== value || newValueInString !== '' + inputValue;\n    if (!('value' in this.props)) {\n      this.setState({\n        value: newValue,\n        inputValue: this.toPrecisionAsStep(v)\n      }, callback);\n    } else {\n      // always set input value same as value\n      this.setState({\n        inputValue: this.toPrecisionAsStep(this.state.value)\n      }, callback);\n    }\n    if (changed) {\n      this.props.onChange(newValue);\n    }\n\n    return newValue;\n  };\n\n  InputNumber.prototype.getPrecision = function getPrecision(value) {\n    if (isValidProps(this.props.precision)) {\n      return this.props.precision;\n    }\n    var valueString = value.toString();\n    if (valueString.indexOf('e-') >= 0) {\n      return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\n    }\n    var precision = 0;\n    if (valueString.indexOf('.') >= 0) {\n      precision = valueString.length - valueString.indexOf('.') - 1;\n    }\n    return precision;\n  };\n\n  // step={1.0} value={1.51}\n  // press +\n  // then value should be 2.51, rather than 2.5\n  // if this.props.precision is undefined\n  // https://github.com/react-component/input-number/issues/39\n\n\n  InputNumber.prototype.getMaxPrecision = function getMaxPrecision(currentValue) {\n    var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var _props2 = this.props,\n        precision = _props2.precision,\n        step = _props2.step;\n\n    if (isValidProps(precision)) {\n      return precision;\n    }\n    var ratioPrecision = this.getPrecision(ratio);\n    var stepPrecision = this.getPrecision(step);\n    var currentValuePrecision = this.getPrecision(currentValue);\n    if (!currentValue) {\n      return ratioPrecision + stepPrecision;\n    }\n    return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\n  };\n\n  InputNumber.prototype.getPrecisionFactor = function getPrecisionFactor(currentValue) {\n    var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n    var precision = this.getMaxPrecision(currentValue, ratio);\n    return Math.pow(10, precision);\n  };\n\n  InputNumber.prototype.fixCaret = function fixCaret(start, end) {\n    if (start === undefined || end === undefined || !this.input || !this.input.value) {\n      return;\n    }\n\n    try {\n      var currentStart = this.input.selectionStart;\n      var currentEnd = this.input.selectionEnd;\n\n      if (start !== currentStart || end !== currentEnd) {\n        this.input.setSelectionRange(start, end);\n      }\n    } catch (e) {\n      // Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  };\n\n  InputNumber.prototype.focus = function focus() {\n    this.input.focus();\n    this.recordCursorPosition();\n  };\n\n  InputNumber.prototype.blur = function blur() {\n    this.input.blur();\n  };\n\n  InputNumber.prototype.select = function select() {\n    this.input.select();\n  };\n\n  InputNumber.prototype.formatWrapper = function formatWrapper(num) {\n    // http://2ality.com/2012/03/signedzero.html\n    // https://github.com/ant-design/ant-design/issues/9439\n    if (this.props.formatter) {\n      return this.props.formatter(num);\n    }\n    return num;\n  };\n\n  InputNumber.prototype.toPrecisionAsStep = function toPrecisionAsStep(num) {\n    if (this.isNotCompleteNumber(num) || num === '') {\n      return num;\n    }\n    var precision = Math.abs(this.getMaxPrecision(num));\n    if (!isNaN(precision)) {\n      return Number(num).toFixed(precision);\n    }\n    return num.toString();\n  };\n\n  // '1.' '1x' 'xx' '' => are not complete numbers\n\n\n  InputNumber.prototype.isNotCompleteNumber = function isNotCompleteNumber(num) {\n    return isNaN(num) || num === '' || num === null || num && num.toString().indexOf('.') === num.toString().length - 1;\n  };\n\n  InputNumber.prototype.toNumber = function toNumber(num) {\n    var precision = this.props.precision;\n    var focused = this.state.focused;\n    // num.length > 16 => This is to prevent input of large numbers\n\n    var numberIsTooLarge = num && num.length > 16 && focused;\n    if (this.isNotCompleteNumber(num) || numberIsTooLarge) {\n      return num;\n    }\n    if (isValidProps(precision)) {\n      return Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision);\n    }\n    return Number(num);\n  };\n\n  InputNumber.prototype.upStep = function upStep(val, rat) {\n    var step = this.props.step;\n\n    var precisionFactor = this.getPrecisionFactor(val, rat);\n    var precision = Math.abs(this.getMaxPrecision(val, rat));\n    var result = ((precisionFactor * val + precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n    return this.toNumber(result);\n  };\n\n  InputNumber.prototype.downStep = function downStep(val, rat) {\n    var step = this.props.step;\n\n    var precisionFactor = this.getPrecisionFactor(val, rat);\n    var precision = Math.abs(this.getMaxPrecision(val, rat));\n    var result = ((precisionFactor * val - precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n    return this.toNumber(result);\n  };\n\n  InputNumber.prototype.step = function step(type, e) {\n    var _this2 = this;\n\n    var ratio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var recursive = arguments[3];\n\n    this.stop();\n    if (e) {\n      e.persist();\n      e.preventDefault();\n    }\n    var props = this.props;\n    if (props.disabled) {\n      return;\n    }\n    var value = this.getCurrentValidValue(this.state.inputValue) || 0;\n    if (this.isNotCompleteNumber(value)) {\n      return;\n    }\n    var val = this[type + 'Step'](value, ratio);\n    var outOfRange = val > props.max || val < props.min;\n    if (val > props.max) {\n      val = props.max;\n    } else if (val < props.min) {\n      val = props.min;\n    }\n    this.setValue(val);\n    this.setState({\n      focused: true\n    });\n    if (outOfRange) {\n      return;\n    }\n    this.autoStepTimer = setTimeout(function () {\n      _this2[type](e, ratio, true);\n    }, recursive ? SPEED : DELAY);\n  };\n\n  InputNumber.prototype.render = function render() {\n    var _classNames;\n\n    var props = _extends({}, this.props);\n\n    var prefixCls = props.prefixCls,\n        disabled = props.disabled,\n        readOnly = props.readOnly,\n        useTouch = props.useTouch,\n        autoComplete = props.autoComplete,\n        upHandler = props.upHandler,\n        downHandler = props.downHandler,\n        rest = _objectWithoutProperties(props, ['prefixCls', 'disabled', 'readOnly', 'useTouch', 'autoComplete', 'upHandler', 'downHandler']);\n\n    var classes = classNames((_classNames = {}, _classNames[prefixCls] = true, _classNames[props.className] = !!props.className, _classNames[prefixCls + '-disabled'] = disabled, _classNames[prefixCls + '-focused'] = this.state.focused, _classNames));\n    var upDisabledClass = '';\n    var downDisabledClass = '';\n    var _state2 = this.state,\n        value = _state2.value,\n        inputValue = _state2.inputValue;\n\n    if (value || value === 0) {\n      if (!isNaN(value)) {\n        var val = Number(value);\n        if (val >= props.max) {\n          upDisabledClass = prefixCls + '-handler-up-disabled';\n        }\n        if (val <= props.min) {\n          downDisabledClass = prefixCls + '-handler-down-disabled';\n        }\n      } else {\n        upDisabledClass = prefixCls + '-handler-up-disabled';\n        downDisabledClass = prefixCls + '-handler-down-disabled';\n      }\n    }\n\n    var dataOrAriaAttributeProps = {};\n    for (var key in props) {\n      if (props.hasOwnProperty(key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n        dataOrAriaAttributeProps[key] = props[key];\n      }\n    }\n\n    var editable = !props.readOnly && !props.disabled;\n\n    // focus state, show input value\n    // unfocus state, show valid value\n    var inputDisplayValue = this.composing ? inputValue : this.getInputDisplayValue();\n\n    var upEvents = void 0;\n    var downEvents = void 0;\n    if (useTouch) {\n      upEvents = {\n        onTouchStart: editable && !upDisabledClass ? this.up : noop,\n        onTouchEnd: this.stop\n      };\n      downEvents = {\n        onTouchStart: editable && !downDisabledClass ? this.down : noop,\n        onTouchEnd: this.stop\n      };\n    } else {\n      upEvents = {\n        onMouseDown: editable && !upDisabledClass ? this.up : noop,\n        onMouseUp: this.stop,\n        onMouseLeave: this.stop\n      };\n      downEvents = {\n        onMouseDown: editable && !downDisabledClass ? this.down : noop,\n        onMouseUp: this.stop,\n        onMouseLeave: this.stop\n      };\n    }\n\n    var isUpDisabled = !!upDisabledClass || disabled || readOnly;\n    var isDownDisabled = !!downDisabledClass || disabled || readOnly;\n    // ref for test\n    return React.createElement(\n      'div',\n      {\n        className: classes,\n        style: props.style,\n        title: props.title,\n        onMouseEnter: props.onMouseEnter,\n        onMouseLeave: props.onMouseLeave,\n        onMouseOver: props.onMouseOver,\n        onMouseOut: props.onMouseOut,\n        onCompositionStart: this.onComposition,\n        onCompositionEnd: this.onComposition\n      },\n      React.createElement(\n        'div',\n        { className: prefixCls + '-handler-wrap' },\n        React.createElement(\n          InputHandler,\n          _extends({\n            ref: this.saveUp,\n            disabled: isUpDisabled,\n            prefixCls: prefixCls,\n            unselectable: 'unselectable'\n          }, upEvents, {\n            role: 'button',\n            'aria-label': 'Increase Value',\n            'aria-disabled': !!isUpDisabled,\n            className: prefixCls + '-handler ' + prefixCls + '-handler-up ' + upDisabledClass\n          }),\n          upHandler || React.createElement('span', {\n            unselectable: 'unselectable',\n            className: prefixCls + '-handler-up-inner',\n            onClick: preventDefault\n          })\n        ),\n        React.createElement(\n          InputHandler,\n          _extends({\n            ref: this.saveDown,\n            disabled: isDownDisabled,\n            prefixCls: prefixCls,\n            unselectable: 'unselectable'\n          }, downEvents, {\n            role: 'button',\n            'aria-label': 'Decrease Value',\n            'aria-disabled': !!isDownDisabled,\n            className: prefixCls + '-handler ' + prefixCls + '-handler-down ' + downDisabledClass\n          }),\n          downHandler || React.createElement('span', {\n            unselectable: 'unselectable',\n            className: prefixCls + '-handler-down-inner',\n            onClick: preventDefault\n          })\n        )\n      ),\n      React.createElement(\n        'div',\n        {\n          className: prefixCls + '-input-wrap'\n        },\n        React.createElement('input', _extends({\n          role: 'spinbutton',\n          'aria-valuemin': props.min,\n          'aria-valuemax': props.max,\n          'aria-valuenow': value,\n          required: props.required,\n          type: props.type,\n          placeholder: props.placeholder,\n          onClick: props.onClick,\n          onMouseUp: this.onMouseUp,\n          className: prefixCls + '-input',\n          tabIndex: props.tabIndex,\n          autoComplete: autoComplete,\n          onFocus: this.onFocus,\n          onBlur: this.onBlur,\n          onKeyDown: editable ? this.onKeyDown : noop,\n          onKeyUp: editable ? this.onKeyUp : noop,\n          autoFocus: props.autoFocus,\n          maxLength: props.maxLength,\n          readOnly: props.readOnly,\n          disabled: props.disabled,\n          max: props.max,\n          min: props.min,\n          step: props.step,\n          name: props.name,\n          title: props.title,\n          id: props.id,\n          onChange: this.onChange,\n          ref: this.saveInput,\n          value: inputDisplayValue,\n          pattern: props.pattern,\n          inputMode: props.inputMode\n        }, dataOrAriaAttributeProps))\n      )\n    );\n  };\n\n  return InputNumber;\n}(React.Component);\n\nInputNumber.propTypes = {\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  focusOnUpDown: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  onChange: PropTypes.func,\n  onPressEnter: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  prefixCls: PropTypes.string,\n  tabIndex: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  disabled: PropTypes.bool,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  readOnly: PropTypes.bool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  step: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  upHandler: PropTypes.node,\n  downHandler: PropTypes.node,\n  useTouch: PropTypes.bool,\n  formatter: PropTypes.func,\n  parser: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  precision: PropTypes.number,\n  required: PropTypes.bool,\n  pattern: PropTypes.string,\n  decimalSeparator: PropTypes.string,\n  inputMode: PropTypes.string\n};\nInputNumber.defaultProps = {\n  focusOnUpDown: true,\n  useTouch: false,\n  prefixCls: 'rc-input-number',\n  min: -MAX_SAFE_INTEGER,\n  step: 1,\n  style: {},\n  onChange: noop,\n  onKeyDown: noop,\n  onPressEnter: noop,\n  onFocus: noop,\n  onBlur: noop,\n  parser: defaultParser,\n  required: false,\n  autoComplete: 'off'\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onKeyDown = function (e) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var _props3 = _this3.props,\n        onKeyDown = _props3.onKeyDown,\n        onPressEnter = _props3.onPressEnter;\n\n\n    if (e.keyCode === KeyCode.UP) {\n      var ratio = _this3.getRatio(e);\n      _this3.up(e, ratio);\n      _this3.stop();\n    } else if (e.keyCode === KeyCode.DOWN) {\n      var _ratio = _this3.getRatio(e);\n      _this3.down(e, _ratio);\n      _this3.stop();\n    } else if (e.keyCode === KeyCode.ENTER && onPressEnter) {\n      onPressEnter(e);\n    }\n\n    // Trigger user key down\n    _this3.recordCursorPosition();\n    _this3.lastKeyCode = e.keyCode;\n    if (onKeyDown) {\n      onKeyDown.apply(undefined, [e].concat(args));\n    }\n  };\n\n  this.onKeyUp = function (e) {\n    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    var onKeyUp = _this3.props.onKeyUp;\n\n\n    _this3.stop();\n\n    _this3.recordCursorPosition();\n\n    // Trigger user key up\n    if (onKeyUp) {\n      onKeyUp.apply(undefined, [e].concat(args));\n    }\n  };\n\n  this.onChange = function (e) {\n    var onChange = _this3.props.onChange;\n\n    if (_this3.state.focused) {\n      _this3.inputting = true;\n    }\n    _this3.rawInput = _this3.props.parser(_this3.getValueFromEvent(e));\n    if (_this3.composing) {\n      _this3.setState({ inputValue: _this3.getValueFromEvent(e) });\n    } else {\n      _this3.setState({ inputValue: _this3.rawInput });\n      onChange(_this3.toNumber(_this3.rawInput)); // valid number or invalid string\n    }\n  };\n\n  this.onMouseUp = function () {\n    var onMouseUp = _this3.props.onMouseUp;\n\n\n    _this3.recordCursorPosition();\n\n    if (onMouseUp) {\n      onMouseUp.apply(undefined, arguments);\n    }\n  };\n\n  this.onFocus = function () {\n    var _props4;\n\n    _this3.setState({\n      focused: true\n    });\n    (_props4 = _this3.props).onFocus.apply(_props4, arguments);\n  };\n\n  this.onBlur = function () {\n    var onBlur = _this3.props.onBlur;\n\n    _this3.inputting = false;\n    _this3.setState({\n      focused: false\n    });\n    var value = _this3.getCurrentValidValue(_this3.state.inputValue);\n    var newValue = _this3.setValue(value);\n\n    if (onBlur) {\n      var originValue = _this3.input.value;\n      var inputValue = _this3.getInputDisplayValue({ focus: false, value: newValue });\n      _this3.input.value = inputValue;\n      onBlur.apply(undefined, arguments);\n      _this3.input.value = originValue;\n    }\n  };\n\n  this.onComposition = function (e) {\n    if (e.type === 'compositionstart') {\n      _this3.composing = true;\n    } else if (e.type === 'compositionend') {\n      _this3.composing = false;\n      _this3.onChange(e);\n    }\n  };\n\n  this.getInputDisplayValue = function (state) {\n    var _ref = state || _this3.state,\n        focused = _ref.focused,\n        inputValue = _ref.inputValue,\n        value = _ref.value;\n\n    var inputDisplayValue = void 0;\n    if (focused) {\n      inputDisplayValue = inputValue;\n    } else {\n      inputDisplayValue = _this3.toPrecisionAsStep(value);\n    }\n\n    if (inputDisplayValue === undefined || inputDisplayValue === null) {\n      inputDisplayValue = '';\n    }\n\n    var inputDisplayValueFormat = _this3.formatWrapper(inputDisplayValue);\n    if (isValidProps(_this3.props.decimalSeparator)) {\n      inputDisplayValueFormat = inputDisplayValueFormat.toString().replace('.', _this3.props.decimalSeparator);\n    }\n\n    return inputDisplayValueFormat;\n  };\n\n  this.recordCursorPosition = function () {\n    // Record position\n    try {\n      _this3.cursorStart = _this3.input.selectionStart;\n      _this3.cursorEnd = _this3.input.selectionEnd;\n      _this3.currentValue = _this3.input.value;\n      _this3.cursorBefore = _this3.input.value.substring(0, _this3.cursorStart);\n      _this3.cursorAfter = _this3.input.value.substring(_this3.cursorEnd);\n    } catch (e) {\n      // Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  };\n\n  this.restoreByAfter = function (str) {\n    if (str === undefined) return false;\n\n    var fullStr = _this3.input.value;\n    var index = fullStr.lastIndexOf(str);\n\n    if (index === -1) return false;\n\n    var prevCursorPos = _this3.cursorBefore.length;\n    if (_this3.lastKeyCode === KeyCode.DELETE && _this3.cursorBefore.charAt(prevCursorPos - 1) === str[0]) {\n      _this3.fixCaret(prevCursorPos, prevCursorPos);\n      return true;\n    }\n\n    if (index + str.length === fullStr.length) {\n      _this3.fixCaret(index, index);\n\n      return true;\n    }\n    return false;\n  };\n\n  this.partRestoreByAfter = function (str) {\n    if (str === undefined) return false;\n\n    // For loop from full str to the str with last char to map. e.g. 123\n    // -> 123\n    // -> 23\n    // -> 3\n    return Array.prototype.some.call(str, function (_, start) {\n      var partStr = str.substring(start);\n\n      return _this3.restoreByAfter(partStr);\n    });\n  };\n\n  this.stop = function () {\n    if (_this3.autoStepTimer) {\n      clearTimeout(_this3.autoStepTimer);\n    }\n  };\n\n  this.down = function (e, ratio, recursive) {\n    _this3.pressingUpOrDown = true;\n    _this3.step('down', e, ratio, recursive);\n  };\n\n  this.up = function (e, ratio, recursive) {\n    _this3.pressingUpOrDown = true;\n    _this3.step('up', e, ratio, recursive);\n  };\n\n  this.saveUp = function (node) {\n    _this3.upHandler = node;\n  };\n\n  this.saveDown = function (node) {\n    _this3.downHandler = node;\n  };\n\n  this.saveInput = function (node) {\n    _this3.input = node;\n  };\n};\n\nexport default InputNumber;"],"mappings":"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"},"metadata":{},"sourceType":"module"}